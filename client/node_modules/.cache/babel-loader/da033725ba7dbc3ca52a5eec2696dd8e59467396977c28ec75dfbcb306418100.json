{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\henkes-stoffzauber\\\\henkes-stoffzauber-projekt\\\\client\\\\src\\\\AdminDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { LogOut, Edit, Trash2, PlusCircle, CheckCircle, XCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3001/api';\nconst BACKEND_URL = 'http://localhost:3001';\nconst FALLBACK_IMAGE_URL = \"https://placehold.co/100x100/CCCCCC/333333?text=N/A\";\nconst FALLBACK_PRODUCT_IMAGE_URL = \"https://placehold.co/100x100/A0E7E5/333?text=Produkt\";\nconst FALLBACK_FABRIC_IMAGE_URL = \"https://placehold.co/100x100/F2B4A0/333?text=Stoff\";\n\n// =========================================================================\n// --- 1. GLOBALE HILFSFUNKTIONEN (UTILITIES) ---\n// Diese Funktionen wurden integriert, um die Konsolidierung zu gewährleisten.\n// =========================================================================\n\n/**\r\n * Ruft den Admin-Authentifizierungstoken aus dem localStorage ab und erstellt Header.\r\n * @returns {object} Die Auth-Header oder ein Fehlerobjekt.\r\n */\nconst getAuthHeaders = () => {\n  const adminToken = localStorage.getItem('adminToken');\n  if (!adminToken) {\n    return {\n      error: 'Admin-Sitzung abgelaufen oder nicht gefunden.'\n    };\n  }\n  return {\n    'Authorization': `Bearer ${adminToken}`\n  };\n};\n\n/**\r\n * HILFSFUNKTION: Korrigiert Bildpfade, die vom Backend kommen.\r\n */\nconst getImageUrl = (imagePath, fallbackUrl) => {\n  if (imagePath && imagePath.startsWith('/uploads/')) {\n    return `${BACKEND_URL}${imagePath}`;\n  }\n  return imagePath || fallbackUrl;\n};\n\n/**\r\n * Generische GET-Funktion.\r\n */\nconst fetchData = async endpoint => {\n  const headers = getAuthHeaders();\n  if (headers.error) throw new Error(headers.error);\n  const response = await fetch(`${API_URL}/${endpoint}`, {\n    method: 'GET',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    }\n  });\n  if (!response.ok) {\n    throw new Error(`Fehler beim Laden von ${endpoint}: ${response.statusText}`);\n  }\n  return response.json();\n};\n\n/**\r\n * Generische POST/PUT-Funktion (Multipart/Form-Data für Bilder).\r\n */\nconst sendData = async (endpoint, method, formDataToSend, isMultipart = false) => {\n  const headers = getAuthHeaders();\n  if (headers.error) throw new Error(headers.error);\n  let finalHeaders = headers;\n  let body = formDataToSend;\n\n  // Bei Multipart/Form-Data (wenn Bild gesendet wird), darf 'Content-Type' NICHT gesetzt werden.\n  if (!isMultipart) {\n    finalHeaders = {\n      ...headers,\n      'Content-Type': 'application/json'\n    };\n    // Wenn kein Bild gesendet wird, muss der Body JSON-String sein\n    body = JSON.stringify(formDataToSend);\n  }\n  const response = await fetch(`${API_URL}/${endpoint}`, {\n    method: method,\n    headers: finalHeaders,\n    body: body\n  });\n  if (response.status === 401) {\n    throw new Error('Nicht autorisiert. Bitte neu anmelden.');\n  }\n  if (!response.ok) {\n    // Versucht, die Fehlerantwort vom Backend zu lesen\n    const errorText = await response.text();\n    let errorMessage = `Fehler beim Speichern von ${endpoint}: ${response.status} ${response.statusText}`;\n    try {\n      const errorJson = JSON.parse(errorText);\n      errorMessage = errorJson.message || errorMessage;\n    } catch (e) {\n      // Wenn es kein JSON ist, wird die allgemeine Fehlermeldung verwendet\n    }\n    throw new Error(errorMessage);\n  }\n  return response.json();\n};\n\n/**\r\n * Generische DELETE-Funktion.\r\n */\nconst deleteData = async (endpoint, id) => {\n  const headers = getAuthHeaders();\n  if (headers.error) throw new Error(headers.error);\n  const response = await fetch(`${API_URL}/${endpoint}/${id}`, {\n    method: 'DELETE',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.status === 401) {\n    throw new Error('Nicht autorisiert. Bitte neu anmelden.');\n  }\n  if (!response.ok) {\n    throw new Error(`Fehler beim Löschen von ${endpoint}: ${response.statusText}`);\n  }\n  // DELETE-Anfragen geben oft keinen Body zurück\n  return {\n    success: true\n  };\n};\n\n// =========================================================================\n// --- 2. HILFSKOMPONENTEN (INLINE) ---\n// Diese Komponenten wurden integriert, um die Konsolidierung zu gewährleisten.\n// =========================================================================\n\n// =========================================================================\n// ProductForm - Produkt-Erstellung/Bearbeitung (Aus ProductForm.js)\n// =========================================================================\n\n// Hilfsfunktion für den initialen Zustand des Produktformulars\nconst getInitialState = productToEdit => productToEdit || {\n  name: '',\n  description: '',\n  price: 0,\n  stock: 0,\n  isFeatured: false,\n  imageFile: null,\n  imageUrl: '',\n  fabricId: ''\n};\nconst ProductForm = ({\n  productToEdit,\n  onSubmit,\n  onCancel,\n  fabrics\n}) => {\n  _s();\n  const initialState = useMemo(() => getInitialState(productToEdit), [productToEdit]);\n  const [formData, setFormData] = useState(initialState);\n  const [isEditing, setIsEditing] = useState(!!productToEdit);\n  const [previewImage, setPreviewImage] = useState(formData.imageUrl || null);\n  useEffect(() => {\n    setFormData(initialState);\n    setIsEditing(!!productToEdit);\n    setPreviewImage(initialState.imageUrl || null);\n  }, [initialState, productToEdit]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    if (type === 'checkbox') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: checked\n      }));\n    } else if (name === 'price' || name === 'stock') {\n      // Stellt sicher, dass Preis und Bestand nur als Zahlen gespeichert werden\n      const numericValue = parseFloat(value.replace(',', '.')) || 0;\n      setFormData(prev => ({\n        ...prev,\n        [name]: numericValue\n      }));\n    } else if (type === 'file') {\n      setFormData(prev => ({\n        ...prev,\n        imageFile: e.target.files[0]\n      }));\n      // Vorschau anzeigen\n      if (e.target.files[0]) {\n        setPreviewImage(URL.createObjectURL(e.target.files[0]));\n      } else {\n        setPreviewImage(formData.imageUrl || null); // Zurück zur Backend-URL\n      }\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const getFinalPreviewUrl = () => {\n    // 1. Wenn ein neues Bild ausgewählt wurde (lokale Vorschau)\n    if (formData.imageFile && previewImage && previewImage.startsWith('blob:')) {\n      return previewImage;\n    }\n    // 2. Wenn eine bestehende Bild-URL vorhanden ist (vom Backend)\n    if (formData.imageUrl) {\n      return getImageUrl(formData.imageUrl, FALLBACK_PRODUCT_IMAGE_URL);\n    }\n    // 3. Fallback\n    return FALLBACK_PRODUCT_IMAGE_URL;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"admin-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: 'var(--farbe-primär-dunkel)',\n        marginBottom: '20px'\n      },\n      children: isEditing ? `Produkt bearbeiten: ${productToEdit.name}` : 'Neues Produkt erstellen'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name des Produkts:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fabricId\",\n        children: \"Zugeh\\xF6riger Stoff (Optional):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"fabricId\",\n        name: \"fabricId\",\n        value: formData.fabricId || '',\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Keinen Stoff ausw\\xE4hlen --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), fabrics.map(fabric => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: fabric.id,\n          children: [fabric.name, \" (\", fabric.fabricType, \")\"]\n        }, fabric.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hint\",\n        children: \"W\\xE4hlen Sie einen Stoff, um dieses Produkt zuzuordnen.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Beschreibung:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        value: formData.description,\n        onChange: handleChange,\n        rows: \"4\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Preis (\\u20AC):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          value: formData.price,\n          onChange: handleChange,\n          min: \"0\",\n          step: \"0.01\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"stock\",\n          children: \"Bestand (Einheiten):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"stock\",\n          name: \"stock\",\n          value: formData.stock,\n          onChange: handleChange,\n          min: \"0\",\n          step: \"1\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      style: {\n        border: '1px dashed #ccc',\n        padding: '15px',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"imageFile\",\n        style: {\n          fontWeight: 'bold'\n        },\n        children: \"Produktbild (optional):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"imageFile\",\n        name: \"imageFile\",\n        accept: \"image/*\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: getFinalPreviewUrl(),\n          alt: \"Vorschau\",\n          style: {\n            maxWidth: '100px',\n            maxHeight: '100px',\n            borderRadius: '8px',\n            border: '1px solid #ccc',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this), isEditing && formData.imageUrl && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.9em',\n            color: '#666'\n          },\n          children: \"Aktuelles Bild wird verwendet. Neues Bild w\\xE4hlen, um es zu ersetzen.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"isFeatured\",\n        name: \"isFeatured\",\n        checked: formData.isFeatured,\n        onChange: handleChange,\n        style: {\n          width: '20px',\n          height: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"isFeatured\",\n        style: {\n          margin: 0,\n          fontWeight: 'normal',\n          cursor: 'pointer'\n        },\n        children: \"Als \\\"Featured Product\\\" auf der Startseite anzeigen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"admin-form-submit-button\",\n        children: isEditing ? 'Änderungen speichern' : 'Produkt erstellen'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '15px',\n        paddingTop: '15px',\n        borderTop: '1px solid #eee'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"admin-form-submit-button\",\n        style: {\n          backgroundColor: 'var(--farbe-grau)',\n          color: 'var(--farbe-text)'\n        },\n        children: \"Bearbeitung abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this);\n};\n\n// =========================================================================\n// AdminProductList - Liste der Produkte\n// =========================================================================\n_s(ProductForm, \"mG0AgEOCBf3MhewyjwhcE6TaBHs=\");\n_c = ProductForm;\nconst AdminProductList = ({\n  products,\n  onEdit,\n  onDelete,\n  fabrics\n}) => {\n  // Hilfsfunktion zur Ermittlung des Stoffnamens\n  const getFabricName = fabricId => {\n    const fabric = fabrics.find(f => f.id === fabricId);\n    return fabric ? fabric.name : 'Nicht zugeordnet';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      border: '1px solid var(--farbe-grau)',\n      borderRadius: '12px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: 'var(--farbe-primär-dunkel)',\n        marginBottom: '20px'\n      },\n      children: [\"Produkt-\\xDCbersicht (\", products.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: '#666',\n        padding: '20px'\n      },\n      children: \"Keine Produkte vorhanden.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"admin-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '60px'\n            },\n            children: \"Bild\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Stoff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '70px'\n            },\n            children: \"Preis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '70px'\n            },\n            children: \"Bestand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '40px'\n            },\n            children: \"Feat.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '100px'\n            },\n            children: \"Aktionen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(product.imageUrl, FALLBACK_PRODUCT_IMAGE_URL),\n              alt: product.name,\n              style: {\n                width: '40px',\n                height: '40px',\n                borderRadius: '4px',\n                objectFit: 'cover'\n              },\n              onError: e => e.target.src = FALLBACK_PRODUCT_IMAGE_URL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              fontSize: '0.9em',\n              color: '#666'\n            },\n            children: getFabricName(product.fabricId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [product.price.toFixed(2), \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.stock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.isFeatured ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 18,\n              color: \"green\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 59\n            }, this) : /*#__PURE__*/_jsxDEV(XCircle, {\n              size: 18,\n              color: \"#ccc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 101\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onEdit(product),\n              title: \"Bearbeiten\",\n              className: \"icon-button edit-button\",\n              style: {\n                marginRight: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(Edit, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onDelete(product.id),\n              title: \"L\\xF6schen\",\n              className: \"icon-button delete-button\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 33\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 9\n  }, this);\n};\n\n// =========================================================================\n// FabricForm - Stoff-Erstellung (Aus StoffForm.js)\n// =========================================================================\n\n// Liste der möglichen Verwendungszwecke (zum Checkbox-Rendern)\n_c2 = AdminProductList;\nconst USAGE_OPTIONS = ['Mütze (Außen)', 'Mütze (Innen)', 'Bündchen', 'Bekleidung (Oberteil)', 'Bekleidung (Hose)', 'Babybekleidung', 'Deko', 'Taschen', 'Accessoires'];\n\n// Liste der Stoffarten\nconst FABRIC_TYPES = ['Jersey', 'French Terry (Sommersweat)', 'Sweat', 'Bündchenstoff', 'Musselin', 'Webware Baumwolle', 'Cord', 'Fleece', 'Softshell', 'Leder (Imitat/Echt)'];\nconst getInitialFabricState = stoffToEdit => stoffToEdit || {\n  name: '',\n  description: '',\n  fabricType: '',\n  suitableFor: [],\n  stock: 0,\n  imageUrl: '',\n  imageFile: null\n};\nconst FabricForm = ({\n  stoffToEdit,\n  onAdd,\n  onCancel\n}) => {\n  _s2();\n  // StoffForm ist hier primär für \"Hinzufügen\" konzipiert, wie in AdminDashboard verwendet.\n  const initialState = useMemo(() => getInitialFabricState(stoffToEdit), [stoffToEdit]);\n  const [formData, setFormData] = useState(initialState);\n  const [isEditing, setIsEditing] = useState(!!stoffToEdit);\n  const [previewImage, setPreviewImage] = useState(formData.imageUrl || null);\n  useEffect(() => {\n    setFormData(initialState);\n    setIsEditing(!!stoffToEdit);\n    setPreviewImage(initialState.imageUrl || null);\n  }, [initialState, stoffToEdit]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    if (type === 'checkbox' && name === 'suitableFor') {\n      setFormData(prev => ({\n        ...prev,\n        suitableFor: checked ? [...prev.suitableFor, value] : prev.suitableFor.filter(v => v !== value)\n      }));\n    } else if (type === 'checkbox') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: checked\n      }));\n    } else if (name === 'stock') {\n      // Stellt sicher, dass Bestand nur als Zahl gespeichert wird\n      const numericValue = parseInt(value) || 0;\n      setFormData(prev => ({\n        ...prev,\n        [name]: numericValue\n      }));\n    } else if (type === 'file') {\n      setFormData(prev => ({\n        ...prev,\n        imageFile: e.target.files[0]\n      }));\n      // Vorschau anzeigen\n      if (e.target.files[0]) {\n        setPreviewImage(URL.createObjectURL(e.target.files[0]));\n      } else {\n        setPreviewImage(formData.imageUrl || null);\n      }\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const getFinalPreviewUrl = () => {\n    if (formData.imageFile && previewImage && previewImage.startsWith('blob:')) {\n      return previewImage;\n    }\n    if (formData.imageUrl) {\n      return getImageUrl(formData.imageUrl, FALLBACK_FABRIC_IMAGE_URL);\n    }\n    return FALLBACK_FABRIC_IMAGE_URL;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onAdd(formData); // In diesem Kontext wird onAdd für Erstellung/Speichern verwendet\n    // Formular zurücksetzen, wenn es sich nicht um eine Bearbeitung handelt\n    if (!isEditing) {\n      setFormData(getInitialFabricState(null));\n      setPreviewImage(null);\n      // File Input muss manuell zurückgesetzt werden, da es unkontrolliert ist\n      e.target.elements.imageFile.value = '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"admin-form-container\",\n    style: {\n      maxWidth: '600px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: 'var(--farbe-primär-dunkel)',\n        marginBottom: '15px'\n      },\n      children: \"Neuen Stoff anlegen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Stoffname/Muster:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fabricType\",\n        children: \"Stoffart:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"fabricType\",\n        name: \"fabricType\",\n        value: formData.fabricType,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Stoffart w\\xE4hlen --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 21\n        }, this), FABRIC_TYPES.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: type,\n          children: type\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Beschreibung/Material:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        value: formData.description,\n        onChange: handleChange,\n        rows: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"stock\",\n        children: \"Bestand (in Metern):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"stock\",\n        name: \"stock\",\n        value: formData.stock,\n        onChange: handleChange,\n        min: \"0\",\n        step: \"0.1\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      style: {\n        border: '1px solid #ddd',\n        padding: '10px',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          fontWeight: 'bold',\n          display: 'block',\n          marginBottom: '8px'\n        },\n        children: \"Verwendungszwecke:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))',\n          gap: '5px'\n        },\n        children: USAGE_OPTIONS.map(usage => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            cursor: 'pointer',\n            fontSize: '0.9em'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"suitableFor\",\n            value: usage,\n            checked: formData.suitableFor.includes(usage),\n            onChange: handleChange,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 29\n          }, this), usage]\n        }, usage, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      style: {\n        border: '1px dashed #ccc',\n        padding: '15px',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"imageFile\",\n        style: {\n          fontWeight: 'bold'\n        },\n        children: \"Stoffmuster Bild (optional):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"imageFile\",\n        name: \"imageFile\",\n        accept: \"image/*\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: getFinalPreviewUrl(),\n          alt: \"Vorschau\",\n          style: {\n            maxWidth: '80px',\n            maxHeight: '80px',\n            borderRadius: '8px',\n            border: '1px solid #ccc',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"admin-form-submit-button\",\n        children: isEditing ? 'Änderungen speichern' : 'Stoff erstellen'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 533,\n    columnNumber: 9\n  }, this);\n};\n\n// =========================================================================\n// AdminFabricList - Liste der Stoffe\n// =========================================================================\n_s2(FabricForm, \"wGOTUVtITCs2ajUBJK3xxSyGbCY=\");\n_c3 = FabricForm;\nconst AdminFabricList = ({\n  fabrics,\n  onDelete\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '30px',\n      padding: '20px',\n      border: '1px solid var(--farbe-grau)',\n      borderRadius: '12px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: 'var(--farbe-primär-dunkel)',\n        marginBottom: '20px'\n      },\n      children: [\"Stoff-Bestand-\\xDCbersicht (\", fabrics.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 13\n    }, this), fabrics.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: '#666',\n        padding: '20px'\n      },\n      children: \"Keine Stoffe im Bestand.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"admin-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '60px'\n            },\n            children: \"Bild\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Stoffname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Art\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '70px'\n            },\n            children: \"Bestand (m)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: '100px'\n            },\n            children: \"Aktionen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: fabrics.map(fabric => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(fabric.imageUrl, FALLBACK_FABRIC_IMAGE_URL),\n              alt: fabric.name,\n              style: {\n                width: '40px',\n                height: '40px',\n                borderRadius: '4px',\n                objectFit: 'cover'\n              },\n              onError: e => e.target.src = FALLBACK_FABRIC_IMAGE_URL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fabric.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fabric.fabricType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fabric.stock.toFixed(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onDelete(fabric.id),\n              title: \"L\\xF6schen\",\n              className: \"icon-button delete-button\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 33\n          }, this)]\n        }, fabric.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 653,\n    columnNumber: 9\n  }, this);\n};\n\n// =========================================================================\n// --- 3. HAUPTKOMPONENTE: AdminDashboard ---\n// =========================================================================\n_c4 = AdminFabricList;\nconst AdminDashboard = () => {\n  _s3();\n  const navigate = useNavigate();\n\n  // Zustände für Produkte\n  const [products, setProducts] = useState([]);\n  const [isLoadingProducts, setIsLoadingProducts] = useState(true);\n  const [errorProducts, setErrorProducts] = useState(null);\n  const [currentProduct, setCurrentProduct] = useState(null); // Produkt, das gerade bearbeitet wird\n\n  // Zustände für Stoffe (Fabrics)\n  const [fabrics, setFabrics] = useState([]);\n  const [isLoadingFabrics, setIsLoadingFabrics] = useState(true);\n  const [errorFabrics, setErrorFabrics] = useState(null);\n\n  // Zustände für Benachrichtigungen\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('success'); // 'success' oder 'error'\n\n  // Benachrichtigungs-Funktion\n  const showMessage = (msg, type = 'success') => {\n    setMessage(msg);\n    setMessageType(type);\n    setTimeout(() => setMessage(''), 5000);\n  };\n\n  // =========================================================================\n  // DATENLADE-FUNKTIONEN\n  // =========================================================================\n\n  // Lädt alle Produkte\n  const loadProducts = useCallback(async () => {\n    setIsLoadingProducts(true);\n    setErrorProducts(null);\n    try {\n      const data = await fetchData('products');\n      setProducts(data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Produkte:', error);\n      setErrorProducts(error.message);\n    } finally {\n      setIsLoadingProducts(false);\n    }\n  }, []);\n\n  // Lädt alle Stoffe\n  const loadFabrics = useCallback(async () => {\n    setIsLoadingFabrics(true);\n    setErrorFabrics(null);\n    try {\n      const data = await fetchData('fabrics');\n      setFabrics(data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Stoffe:', error);\n      setErrorFabrics(error.message);\n    } finally {\n      setIsLoadingFabrics(false);\n    }\n  }, []);\n\n  // Initiales Laden\n  useEffect(() => {\n    loadProducts();\n    loadFabrics();\n  }, [loadProducts, loadFabrics]);\n\n  // =========================================================================\n  // PRODUKT-HANDLUNG\n  // =========================================================================\n\n  /**\r\n   * Produkt zur Bearbeitung auswählen.\r\n   */\n  const handleEdit = product => {\n    setCurrentProduct(product);\n    showMessage(`Produkt \"${product.name}\" zur Bearbeitung geladen.`, 'info');\n  };\n\n  /**\r\n   * Bearbeitung abbrechen und zum Erstellungsmodus zurückkehren.\r\n   */\n  const handleCancelEdit = () => {\n    setCurrentProduct(null);\n    showMessage('Bearbeitung abgebrochen. Bereit zur neuen Produkterstellung.', 'info');\n  };\n\n  /**\r\n   * Produkt erstellen oder aktualisieren.\r\n   */\n  const handleProductSubmit = async formData => {\n    const isEditing = !!formData.id;\n    const endpoint = isEditing ? `products/${formData.id}` : 'products';\n    const method = isEditing ? 'PUT' : 'POST';\n    try {\n      // 1. Prepare data (use FormData if a file is present)\n      let dataToSend;\n      let isMultipart = false;\n      if (formData.imageFile) {\n        // Wenn ein neues Bild ausgewählt wurde, verwenden wir FormData\n        dataToSend = new FormData();\n        // Füge alle Felder (außer imageFile) hinzu\n        Object.keys(formData).forEach(key => {\n          if (key !== 'imageFile') {\n            // Spezielle Handhabung für boolean und number\n            if (key === 'isFeatured') {\n              dataToSend.append(key, formData[key] ? 'true' : 'false');\n            } else if (key === 'price' || key === 'stock') {\n              dataToSend.append(key, formData[key].toString());\n            } else {\n              dataToSend.append(key, formData[key] || '');\n            }\n          }\n        });\n        dataToSend.append('imageFile', formData.imageFile);\n        isMultipart = true;\n      } else {\n        // Wenn kein neues Bild ausgewählt wurde (oder nur Textdaten), verwenden wir JSON\n        // imageFile entfernen, da es nicht an das Backend gesendet werden soll\n        const {\n          imageFile,\n          ...jsonPayload\n        } = formData;\n        dataToSend = jsonPayload;\n        isMultipart = false;\n      }\n\n      // 2. Send data\n      await sendData(endpoint, method, dataToSend, isMultipart);\n\n      // 3. Update state\n      await loadProducts();\n      setCurrentProduct(null); // Bearbeitung abschließen\n\n      showMessage(`Produkt erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}!`, 'success');\n    } catch (error) {\n      console.error('Fehler beim Speichern des Produkts:', error);\n      showMessage(`Fehler beim Speichern: ${error.message}`, 'error');\n    }\n  };\n\n  /**\r\n   * Produkt löschen.\r\n   */\n  const handleDelete = async productId => {\n    if (!window.confirm(\"Sind Sie sicher, dass Sie dieses Produkt löschen möchten?\")) {\n      return;\n    }\n    try {\n      await deleteData('products', productId);\n      await loadProducts();\n      // Falls das gelöschte Produkt gerade bearbeitet wurde\n      if (currentProduct && currentProduct.id === productId) {\n        setCurrentProduct(null);\n      }\n      showMessage('Produkt erfolgreich gelöscht.', 'success');\n    } catch (error) {\n      console.error('Fehler beim Löschen des Produkts:', error);\n      showMessage(`Fehler beim Löschen: ${error.message}`, 'error');\n    }\n  };\n\n  // =========================================================================\n  // STOFF-HANDLUNG (FABRICS)\n  // =========================================================================\n\n  /**\r\n   * Stoff erstellen.\r\n   */\n  const handleAddFabric = async formData => {\n    const isEditing = !!formData.id;\n    const endpoint = isEditing ? `fabrics/${formData.id}` : 'fabrics';\n    const method = isEditing ? 'PUT' : 'POST';\n    try {\n      let dataToSend;\n      let isMultipart = false;\n      if (formData.imageFile) {\n        // Bei Bild-Upload FormData verwenden\n        dataToSend = new FormData();\n        Object.keys(formData).forEach(key => {\n          if (key !== 'imageFile' && key !== 'suitableFor') {\n            dataToSend.append(key, formData[key]);\n          }\n        });\n        dataToSend.append('suitableFor', JSON.stringify(formData.suitableFor));\n        dataToSend.append('imageFile', formData.imageFile);\n        isMultipart = true;\n      } else {\n        // Bei reinen Textdaten JSON verwenden\n        const {\n          imageFile,\n          ...jsonPayload\n        } = formData;\n        dataToSend = jsonPayload;\n        isMultipart = false;\n      }\n      await sendData(endpoint, method, dataToSend, isMultipart);\n      await loadFabrics();\n      showMessage(`Stoff erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}.`, 'success');\n    } catch (error) {\n      console.error('Fehler beim Speichern des Stoffs:', error);\n      showMessage(`Fehler beim Speichern des Stoffs: ${error.message}`, 'error');\n    }\n  };\n\n  /**\r\n   * Stoff löschen.\r\n   */\n  const handleDeleteFabric = async fabricId => {\n    if (!window.confirm(\"Sind Sie sicher, dass Sie diesen Stoff löschen möchten? Alle zugeordneten Produkte bleiben erhalten, aber die Zuordnung geht verloren.\")) {\n      return;\n    }\n    try {\n      await deleteData('fabrics', fabricId);\n      await loadFabrics();\n      showMessage('Stoff erfolgreich gelöscht.', 'success');\n    } catch (error) {\n      console.error('Fehler beim Löschen des Stoffs:', error);\n      showMessage(`Fehler beim Löschen des Stoffs: ${error.message}`, 'error');\n    }\n  };\n\n  // =========================================================================\n  // UI-HELPER\n  // =========================================================================\n\n  const handleLogout = () => {\n    localStorage.removeItem('adminToken');\n    navigate('/admin'); // Leitet zur Login-Seite um\n    showMessage('Erfolgreich abgemeldet.', 'info');\n  };\n  const overallLoading = isLoadingProducts || isLoadingFabrics;\n  const mainStyle = {\n    padding: '20px 50px',\n    maxWidth: '1400px',\n    margin: '0 auto',\n    fontFamily: 'Arial, sans-serif'\n  };\n\n  // Custom Styles für Admin-Elemente, da Tailwind nicht global verfügbar ist\n  const styleSheet = `\n        .admin-form-container input[type=\"text\"],\n        .admin-form-container input[type=\"number\"],\n        .admin-form-container textarea,\n        .admin-form-container select {\n            width: 100%;\n            padding: 10px;\n            margin-top: 5px;\n            border: 1px solid var(--farbe-grau);\n            border-radius: 5px;\n            box-sizing: border-box;\n        }\n        .admin-form-group {\n            margin-bottom: 15px;\n        }\n        .admin-form-group label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n            color: var(--farbe-text-dunkel);\n        }\n        .admin-form-submit-button {\n            padding: 10px 20px;\n            background-color: var(--farbe-akzent);\n            color: white;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            transition: background-color 0.2s;\n        }\n        .admin-form-submit-button:hover {\n            background-color: var(--farbe-sekundär);\n        }\n        .admin-table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 0.9em;\n        }\n        .admin-table th, .admin-table td {\n            padding: 8px;\n            border-bottom: 1px solid #eee;\n            text-align: left;\n        }\n        .admin-table th {\n            background-color: var(--farbe-grau);\n            color: var(--farbe-text-dunkel);\n        }\n        .icon-button {\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 5px;\n            border-radius: 4px;\n            transition: background-color 0.2s;\n        }\n        .edit-button:hover { background-color: #ffe0b2; } /* Orange */\n        .delete-button:hover { background-color: #ffcdd2; } /* Rot */\n        .hint {\n            font-size: 0.8em;\n            color: #777;\n            margin-top: 5px;\n        }\n    `;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: mainStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: styleSheet\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderBottom: '2px solid var(--farbe-primär)',\n        paddingBottom: '15px',\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: 'var(--farbe-primär)',\n          margin: 0\n        },\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1023,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        style: {\n          backgroundColor: 'var(--farbe-rot)',\n          color: 'white',\n          padding: '10px 15px',\n          borderRadius: '8px',\n          border: 'none',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(LogOut, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1040,\n          columnNumber: 21\n        }, this), \" Abmelden\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1026,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1022,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '15px',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        fontWeight: 'bold',\n        backgroundColor: messageType === 'success' ? '#d4edda' : messageType === 'info' ? '#cce5ff' : '#f8d7da',\n        color: messageType === 'success' ? '#155724' : messageType === 'info' ? '#004085' : '#721c24',\n        border: `1px solid ${messageType === 'success' ? '#c3e6cb' : messageType === 'info' ? '#b8daff' : '#f5c6cb'}`\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1046,\n      columnNumber: 17\n    }, this), overallLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        padding: '50px',\n        fontSize: '1.2em',\n        color: 'var(--farbe-primär)'\n      },\n      children: \"Daten werden geladen...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1060,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: 'var(--farbe-primär)',\n        marginBottom: '30px',\n        fontSize: '1.8em'\n      },\n      children: \"Produkt-Inventar-Verwaltung\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'minmax(350px, 1fr) minmax(600px, 2fr)',\n        gap: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ProductForm, {\n          productToEdit: currentProduct,\n          onSubmit: handleProductSubmit,\n          onCancel: handleCancelEdit,\n          fabrics: fabrics\n        }, currentProduct ? currentProduct.id : 'new', false, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1072,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [errorProducts && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'var(--farbe-rot)',\n            fontWeight: 'bold'\n          },\n          children: [\"Fehler beim Laden der Produkte: \", errorProducts]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(AdminProductList, {\n          products: products,\n          onEdit: handleEdit,\n          onDelete: handleDelete,\n          fabrics: fabrics\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1085,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '60px',\n        borderTop: '2px solid var(--farbe-grau)',\n        paddingTop: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: 'var(--farbe-primär)',\n          marginBottom: '30px',\n          fontSize: '1.8em'\n        },\n        children: \"Stoff-Inventar-Verwaltung\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FabricForm, {\n        onAdd: handleAddFabric,\n        stoffToEdit: null // Derzeit nur Erstellung unterstützt (keine Bearbeitung)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 17\n      }, this), errorFabrics && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'var(--farbe-rot)',\n          fontWeight: 'bold'\n        },\n        children: [\"Fehler beim Laden der Stoffe: \", errorFabrics]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1112,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(AdminFabricList, {\n        fabrics: fabrics,\n        onDelete: handleDeleteFabric\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1096,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1020,\n    columnNumber: 9\n  }, this);\n};\n_s3(AdminDashboard, \"m67HPKopXXWDt8KgQR5F/8xV2N8=\", false, function () {\n  return [useNavigate];\n});\n_c5 = AdminDashboard;\nexport default AdminDashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ProductForm\");\n$RefreshReg$(_c2, \"AdminProductList\");\n$RefreshReg$(_c3, \"FabricForm\");\n$RefreshReg$(_c4, \"AdminFabricList\");\n$RefreshReg$(_c5, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","useNavigate","LogOut","Edit","Trash2","PlusCircle","CheckCircle","XCircle","jsxDEV","_jsxDEV","API_URL","BACKEND_URL","FALLBACK_IMAGE_URL","FALLBACK_PRODUCT_IMAGE_URL","FALLBACK_FABRIC_IMAGE_URL","getAuthHeaders","adminToken","localStorage","getItem","error","getImageUrl","imagePath","fallbackUrl","startsWith","fetchData","endpoint","headers","Error","response","fetch","method","ok","statusText","json","sendData","formDataToSend","isMultipart","finalHeaders","body","JSON","stringify","status","errorText","text","errorMessage","errorJson","parse","message","e","deleteData","id","success","getInitialState","productToEdit","name","description","price","stock","isFeatured","imageFile","imageUrl","fabricId","ProductForm","onSubmit","onCancel","fabrics","_s","initialState","formData","setFormData","isEditing","setIsEditing","previewImage","setPreviewImage","handleChange","value","type","checked","target","prev","numericValue","parseFloat","replace","files","URL","createObjectURL","getFinalPreviewUrl","handleSubmit","preventDefault","className","children","style","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onChange","required","map","fabric","fabricType","rows","display","gap","flex","min","step","border","padding","borderRadius","fontWeight","accept","marginTop","alignItems","src","alt","maxWidth","maxHeight","objectFit","fontSize","width","height","margin","cursor","paddingTop","borderTop","onClick","backgroundColor","_c","AdminProductList","products","onEdit","onDelete","getFabricName","find","f","length","textAlign","product","onError","toFixed","size","title","marginRight","_c2","USAGE_OPTIONS","FABRIC_TYPES","getInitialFabricState","stoffToEdit","suitableFor","FabricForm","onAdd","_s2","filter","v","parseInt","elements","gridTemplateColumns","usage","includes","_c3","AdminFabricList","_c4","AdminDashboard","_s3","navigate","setProducts","isLoadingProducts","setIsLoadingProducts","errorProducts","setErrorProducts","currentProduct","setCurrentProduct","setFabrics","isLoadingFabrics","setIsLoadingFabrics","errorFabrics","setErrorFabrics","setMessage","messageType","setMessageType","showMessage","msg","setTimeout","loadProducts","data","console","loadFabrics","handleEdit","handleCancelEdit","handleProductSubmit","dataToSend","FormData","Object","keys","forEach","key","append","toString","jsonPayload","handleDelete","productId","window","confirm","handleAddFabric","handleDeleteFabric","handleLogout","removeItem","overallLoading","mainStyle","fontFamily","styleSheet","justifyContent","borderBottom","paddingBottom","_c5","$RefreshReg$"],"sources":["C:/Users/Stefan/Desktop/henkes-stoffzauber/henkes-stoffzauber-projekt/client/src/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { LogOut, Edit, Trash2, PlusCircle, CheckCircle, XCircle } from 'lucide-react';\r\n\r\nconst API_URL = 'http://localhost:3001/api';\r\nconst BACKEND_URL = 'http://localhost:3001';\r\nconst FALLBACK_IMAGE_URL = \"https://placehold.co/100x100/CCCCCC/333333?text=N/A\";\r\nconst FALLBACK_PRODUCT_IMAGE_URL = \"https://placehold.co/100x100/A0E7E5/333?text=Produkt\";\r\nconst FALLBACK_FABRIC_IMAGE_URL = \"https://placehold.co/100x100/F2B4A0/333?text=Stoff\";\r\n\r\n// =========================================================================\r\n// --- 1. GLOBALE HILFSFUNKTIONEN (UTILITIES) ---\r\n// Diese Funktionen wurden integriert, um die Konsolidierung zu gewährleisten.\r\n// =========================================================================\r\n\r\n/**\r\n * Ruft den Admin-Authentifizierungstoken aus dem localStorage ab und erstellt Header.\r\n * @returns {object} Die Auth-Header oder ein Fehlerobjekt.\r\n */\r\nconst getAuthHeaders = () => {\r\n    const adminToken = localStorage.getItem('adminToken');\r\n    if (!adminToken) {\r\n        return { error: 'Admin-Sitzung abgelaufen oder nicht gefunden.' };\r\n    }\r\n    return { \r\n        'Authorization': `Bearer ${adminToken}`,\r\n    };\r\n};\r\n\r\n/**\r\n * HILFSFUNKTION: Korrigiert Bildpfade, die vom Backend kommen.\r\n */\r\nconst getImageUrl = (imagePath, fallbackUrl) => {\r\n    if (imagePath && imagePath.startsWith('/uploads/')) {\r\n        return `${BACKEND_URL}${imagePath}`;\r\n    }\r\n    return imagePath || fallbackUrl;\r\n};\r\n\r\n/**\r\n * Generische GET-Funktion.\r\n */\r\nconst fetchData = async (endpoint) => {\r\n    const headers = getAuthHeaders();\r\n    if (headers.error) throw new Error(headers.error);\r\n\r\n    const response = await fetch(`${API_URL}/${endpoint}`, {\r\n        method: 'GET',\r\n        headers: { ...headers, 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    if (!response.ok) {\r\n        throw new Error(`Fehler beim Laden von ${endpoint}: ${response.statusText}`);\r\n    }\r\n    return response.json();\r\n};\r\n\r\n\r\n/**\r\n * Generische POST/PUT-Funktion (Multipart/Form-Data für Bilder).\r\n */\r\nconst sendData = async (endpoint, method, formDataToSend, isMultipart = false) => {\r\n    const headers = getAuthHeaders();\r\n    if (headers.error) throw new Error(headers.error);\r\n\r\n    let finalHeaders = headers;\r\n    let body = formDataToSend; \r\n\r\n    // Bei Multipart/Form-Data (wenn Bild gesendet wird), darf 'Content-Type' NICHT gesetzt werden.\r\n    if (!isMultipart) {\r\n        finalHeaders = { ...headers, 'Content-Type': 'application/json' };\r\n        // Wenn kein Bild gesendet wird, muss der Body JSON-String sein\r\n        body = JSON.stringify(formDataToSend); \r\n    }\r\n\r\n    const response = await fetch(`${API_URL}/${endpoint}`, {\r\n        method: method,\r\n        headers: finalHeaders,\r\n        body: body,\r\n    });\r\n\r\n    if (response.status === 401) {\r\n         throw new Error('Nicht autorisiert. Bitte neu anmelden.');\r\n    }\r\n    \r\n    if (!response.ok) {\r\n        // Versucht, die Fehlerantwort vom Backend zu lesen\r\n        const errorText = await response.text();\r\n        let errorMessage = `Fehler beim Speichern von ${endpoint}: ${response.status} ${response.statusText}`;\r\n        try {\r\n            const errorJson = JSON.parse(errorText);\r\n            errorMessage = errorJson.message || errorMessage;\r\n        } catch (e) {\r\n            // Wenn es kein JSON ist, wird die allgemeine Fehlermeldung verwendet\r\n        }\r\n        throw new Error(errorMessage);\r\n    }\r\n    return response.json();\r\n};\r\n\r\n/**\r\n * Generische DELETE-Funktion.\r\n */\r\nconst deleteData = async (endpoint, id) => {\r\n    const headers = getAuthHeaders();\r\n    if (headers.error) throw new Error(headers.error);\r\n\r\n    const response = await fetch(`${API_URL}/${endpoint}/${id}`, {\r\n        method: 'DELETE',\r\n        headers: { ...headers, 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    if (response.status === 401) {\r\n         throw new Error('Nicht autorisiert. Bitte neu anmelden.');\r\n    }\r\n    \r\n    if (!response.ok) {\r\n        throw new Error(`Fehler beim Löschen von ${endpoint}: ${response.statusText}`);\r\n    }\r\n    // DELETE-Anfragen geben oft keinen Body zurück\r\n    return { success: true }; \r\n};\r\n\r\n\r\n// =========================================================================\r\n// --- 2. HILFSKOMPONENTEN (INLINE) ---\r\n// Diese Komponenten wurden integriert, um die Konsolidierung zu gewährleisten.\r\n// =========================================================================\r\n\r\n// =========================================================================\r\n// ProductForm - Produkt-Erstellung/Bearbeitung (Aus ProductForm.js)\r\n// =========================================================================\r\n\r\n// Hilfsfunktion für den initialen Zustand des Produktformulars\r\nconst getInitialState = (productToEdit) => productToEdit || {\r\n    name: '',\r\n    description: '',\r\n    price: 0,\r\n    stock: 0,\r\n    isFeatured: false,\r\n    imageFile: null,\r\n    imageUrl: '',\r\n    fabricId: '',\r\n};\r\n\r\nconst ProductForm = ({ productToEdit, onSubmit, onCancel, fabrics }) => {\r\n    \r\n    const initialState = useMemo(() => getInitialState(productToEdit), [productToEdit]);\r\n    \r\n    const [formData, setFormData] = useState(initialState);\r\n    const [isEditing, setIsEditing] = useState(!!productToEdit);\r\n    const [previewImage, setPreviewImage] = useState(formData.imageUrl || null);\r\n\r\n\r\n    useEffect(() => {\r\n        setFormData(initialState);\r\n        setIsEditing(!!productToEdit);\r\n        setPreviewImage(initialState.imageUrl || null);\r\n    }, [initialState, productToEdit]); \r\n    \r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        \r\n        if (type === 'checkbox') {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                [name]: checked,\r\n            }));\r\n        } else if (name === 'price' || name === 'stock') {\r\n             // Stellt sicher, dass Preis und Bestand nur als Zahlen gespeichert werden\r\n            const numericValue = parseFloat(value.replace(',', '.')) || 0;\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                [name]: numericValue,\r\n            }));\r\n        } else if (type === 'file') {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                imageFile: e.target.files[0],\r\n            }));\r\n            // Vorschau anzeigen\r\n            if (e.target.files[0]) {\r\n                setPreviewImage(URL.createObjectURL(e.target.files[0]));\r\n            } else {\r\n                setPreviewImage(formData.imageUrl || null); // Zurück zur Backend-URL\r\n            }\r\n        } else {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                [name]: value,\r\n            }));\r\n        }\r\n    };\r\n\r\n    const getFinalPreviewUrl = () => {\r\n        // 1. Wenn ein neues Bild ausgewählt wurde (lokale Vorschau)\r\n        if (formData.imageFile && previewImage && previewImage.startsWith('blob:')) {\r\n            return previewImage;\r\n        }\r\n        // 2. Wenn eine bestehende Bild-URL vorhanden ist (vom Backend)\r\n        if (formData.imageUrl) {\r\n            return getImageUrl(formData.imageUrl, FALLBACK_PRODUCT_IMAGE_URL);\r\n        }\r\n        // 3. Fallback\r\n        return FALLBACK_PRODUCT_IMAGE_URL;\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSubmit(formData);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"admin-form-container\">\r\n            <h2 style={{ color: 'var(--farbe-primär-dunkel)', marginBottom: '20px' }}>\r\n                {isEditing ? `Produkt bearbeiten: ${productToEdit.name}` : 'Neues Produkt erstellen'}\r\n            </h2>\r\n\r\n            {/* 1. Hauptfelder */}\r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"name\">Name des Produkts:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    required\r\n                />\r\n            </div>\r\n            \r\n             <div className=\"admin-form-group\">\r\n                <label htmlFor=\"fabricId\">Zugehöriger Stoff (Optional):</label>\r\n                 <select\r\n                    id=\"fabricId\"\r\n                    name=\"fabricId\"\r\n                    value={formData.fabricId || ''}\r\n                    onChange={handleChange}\r\n                >\r\n                    <option value=\"\">-- Keinen Stoff auswählen --</option>\r\n                    {fabrics.map(fabric => (\r\n                        <option key={fabric.id} value={fabric.id}>\r\n                            {fabric.name} ({fabric.fabricType})\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                <p className=\"hint\">Wählen Sie einen Stoff, um dieses Produkt zuzuordnen.</p>\r\n            </div>\r\n\r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"description\">Beschreibung:</label>\r\n                <textarea\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                    rows=\"4\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            {/* 2. Numerische Felder */}\r\n            <div style={{ display: 'flex', gap: '20px' }}>\r\n                <div className=\"admin-form-group\" style={{ flex: 1 }}>\r\n                    <label htmlFor=\"price\">Preis (€):</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"price\"\r\n                        name=\"price\"\r\n                        value={formData.price}\r\n                        onChange={handleChange}\r\n                        min=\"0\"\r\n                        step=\"0.01\"\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"admin-form-group\" style={{ flex: 1 }}>\r\n                    <label htmlFor=\"stock\">Bestand (Einheiten):</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"stock\"\r\n                        name=\"stock\"\r\n                        value={formData.stock}\r\n                        onChange={handleChange}\r\n                        min=\"0\"\r\n                        step=\"1\"\r\n                        required\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* 3. Bild-Upload und Vorschau */}\r\n            <div className=\"admin-form-group\" style={{ border: '1px dashed #ccc', padding: '15px', borderRadius: '8px' }}>\r\n                <label htmlFor=\"imageFile\" style={{ fontWeight: 'bold' }}>Produktbild (optional):</label>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"imageFile\"\r\n                    name=\"imageFile\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleChange}\r\n                />\r\n                \r\n                <div style={{ marginTop: '15px', display: 'flex', alignItems: 'center', gap: '15px' }}>\r\n                    <img\r\n                        src={getFinalPreviewUrl()}\r\n                        alt=\"Vorschau\"\r\n                        style={{ maxWidth: '100px', maxHeight: '100px', borderRadius: '8px', border: '1px solid #ccc', objectFit: 'cover' }}\r\n                    />\r\n                     {isEditing && formData.imageUrl && (\r\n                        <span style={{ fontSize: '0.9em', color: '#666' }}>\r\n                           Aktuelles Bild wird verwendet. Neues Bild wählen, um es zu ersetzen.\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-form-group\" style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"isFeatured\"\r\n                    name=\"isFeatured\"\r\n                    checked={formData.isFeatured}\r\n                    onChange={handleChange}\r\n                    style={{ width: '20px', height: '20px' }}\r\n                />\r\n                <label htmlFor=\"isFeatured\" style={{ margin: 0, fontWeight: 'normal', cursor: 'pointer' }}>\r\n                    Als \"Featured Product\" auf der Startseite anzeigen\r\n                </label>\r\n            </div>\r\n            \r\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n                <button type=\"submit\" className=\"admin-form-submit-button\">\r\n                    {isEditing ? 'Änderungen speichern' : 'Produkt erstellen'}\r\n                </button>\r\n            </div>\r\n            \r\n            {isEditing && (\r\n                <div style={{ marginTop: '15px', paddingTop: '15px', borderTop: '1px solid #eee' }}>\r\n                    <button type=\"button\" onClick={onCancel} className=\"admin-form-submit-button\" style={{backgroundColor: 'var(--farbe-grau)', color: 'var(--farbe-text)'}}>\r\n                        Bearbeitung abbrechen\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\n// =========================================================================\r\n// AdminProductList - Liste der Produkte\r\n// =========================================================================\r\nconst AdminProductList = ({ products, onEdit, onDelete, fabrics }) => {\r\n    \r\n    // Hilfsfunktion zur Ermittlung des Stoffnamens\r\n    const getFabricName = (fabricId) => {\r\n        const fabric = fabrics.find(f => f.id === fabricId);\r\n        return fabric ? fabric.name : 'Nicht zugeordnet';\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '20px', border: '1px solid var(--farbe-grau)', borderRadius: '12px' }}>\r\n            <h2 style={{ color: 'var(--farbe-primär-dunkel)', marginBottom: '20px' }}>\r\n                Produkt-Übersicht ({products.length})\r\n            </h2>\r\n            \r\n            {products.length === 0 ? (\r\n                 <p style={{ textAlign: 'center', color: '#666', padding: '20px' }}>Keine Produkte vorhanden.</p>\r\n            ) : (\r\n                <table className=\"admin-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={{width: '60px'}}>Bild</th>\r\n                            <th>Name</th>\r\n                            <th>Stoff</th>\r\n                            <th style={{width: '70px'}}>Preis</th>\r\n                            <th style={{width: '70px'}}>Bestand</th>\r\n                            <th style={{width: '40px'}}>Feat.</th>\r\n                            <th style={{width: '100px'}}>Aktionen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {products.map((product) => (\r\n                            <tr key={product.id}>\r\n                                <td>\r\n                                    <img \r\n                                        src={getImageUrl(product.imageUrl, FALLBACK_PRODUCT_IMAGE_URL)} \r\n                                        alt={product.name} \r\n                                        style={{ width: '40px', height: '40px', borderRadius: '4px', objectFit: 'cover' }} \r\n                                        onError={(e) => e.target.src = FALLBACK_PRODUCT_IMAGE_URL}\r\n                                    />\r\n                                </td>\r\n                                <td>{product.name}</td>\r\n                                <td style={{fontSize: '0.9em', color: '#666'}}>{getFabricName(product.fabricId)}</td>\r\n                                <td>{product.price.toFixed(2)} €</td>\r\n                                <td>{product.stock}</td>\r\n                                <td>{product.isFeatured ? <CheckCircle size={18} color=\"green\" /> : <XCircle size={18} color=\"#ccc\" />}</td>\r\n                                <td>\r\n                                    <button \r\n                                        onClick={() => onEdit(product)} \r\n                                        title=\"Bearbeiten\" \r\n                                        className=\"icon-button edit-button\"\r\n                                        style={{marginRight: '8px'}}\r\n                                    >\r\n                                        <Edit size={16} />\r\n                                    </button>\r\n                                    <button \r\n                                        onClick={() => onDelete(product.id)} \r\n                                        title=\"Löschen\" \r\n                                        className=\"icon-button delete-button\"\r\n                                    >\r\n                                        <Trash2 size={16} />\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// =========================================================================\r\n// FabricForm - Stoff-Erstellung (Aus StoffForm.js)\r\n// =========================================================================\r\n\r\n// Liste der möglichen Verwendungszwecke (zum Checkbox-Rendern)\r\nconst USAGE_OPTIONS = [\r\n    'Mütze (Außen)', 'Mütze (Innen)', 'Bündchen', 'Bekleidung (Oberteil)', \r\n    'Bekleidung (Hose)', 'Babybekleidung', 'Deko', 'Taschen', 'Accessoires'\r\n];\r\n\r\n// Liste der Stoffarten\r\nconst FABRIC_TYPES = [\r\n    'Jersey', 'French Terry (Sommersweat)', 'Sweat', 'Bündchenstoff', 'Musselin', \r\n    'Webware Baumwolle', 'Cord', 'Fleece', 'Softshell', 'Leder (Imitat/Echt)'\r\n];\r\n\r\n\r\nconst getInitialFabricState = (stoffToEdit) => stoffToEdit || {\r\n    name: '',\r\n    description: '',\r\n    fabricType: '',\r\n    suitableFor: [],\r\n    stock: 0, \r\n    imageUrl: '', \r\n    imageFile: null,\r\n};\r\n\r\nconst FabricForm = ({ stoffToEdit, onAdd, onCancel }) => {\r\n    \r\n    // StoffForm ist hier primär für \"Hinzufügen\" konzipiert, wie in AdminDashboard verwendet.\r\n    const initialState = useMemo(() => getInitialFabricState(stoffToEdit), [stoffToEdit]);\r\n    \r\n    const [formData, setFormData] = useState(initialState);\r\n    const [isEditing, setIsEditing] = useState(!!stoffToEdit);\r\n    const [previewImage, setPreviewImage] = useState(formData.imageUrl || null);\r\n\r\n\r\n    useEffect(() => {\r\n        setFormData(initialState);\r\n        setIsEditing(!!stoffToEdit);\r\n        setPreviewImage(initialState.imageUrl || null);\r\n    }, [initialState, stoffToEdit]); \r\n    \r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        \r\n        if (type === 'checkbox' && name === 'suitableFor') {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                suitableFor: checked\r\n                    ? [...prev.suitableFor, value]\r\n                    : prev.suitableFor.filter(v => v !== value),\r\n            }));\r\n        } else if (type === 'checkbox') {\r\n             setFormData(prev => ({\r\n                ...prev,\r\n                [name]: checked,\r\n            }));\r\n        } else if (name === 'stock') {\r\n             // Stellt sicher, dass Bestand nur als Zahl gespeichert wird\r\n            const numericValue = parseInt(value) || 0;\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                [name]: numericValue,\r\n            }));\r\n        } else if (type === 'file') {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                imageFile: e.target.files[0],\r\n            }));\r\n            // Vorschau anzeigen\r\n            if (e.target.files[0]) {\r\n                setPreviewImage(URL.createObjectURL(e.target.files[0]));\r\n            } else {\r\n                setPreviewImage(formData.imageUrl || null);\r\n            }\r\n        } else {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                [name]: value,\r\n            }));\r\n        }\r\n    };\r\n    \r\n    const getFinalPreviewUrl = () => {\r\n        if (formData.imageFile && previewImage && previewImage.startsWith('blob:')) {\r\n            return previewImage;\r\n        }\r\n        if (formData.imageUrl) {\r\n            return getImageUrl(formData.imageUrl, FALLBACK_FABRIC_IMAGE_URL);\r\n        }\r\n        return FALLBACK_FABRIC_IMAGE_URL;\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onAdd(formData); // In diesem Kontext wird onAdd für Erstellung/Speichern verwendet\r\n        // Formular zurücksetzen, wenn es sich nicht um eine Bearbeitung handelt\r\n        if (!isEditing) {\r\n            setFormData(getInitialFabricState(null)); \r\n            setPreviewImage(null);\r\n            // File Input muss manuell zurückgesetzt werden, da es unkontrolliert ist\r\n            e.target.elements.imageFile.value = '';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"admin-form-container\" style={{maxWidth: '600px', margin: '0 auto'}}>\r\n            <h3 style={{ color: 'var(--farbe-primär-dunkel)', marginBottom: '15px' }}>\r\n                Neuen Stoff anlegen\r\n            </h3>\r\n\r\n            {/* 1. Name und Art */}\r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"name\">Stoffname/Muster:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    required\r\n                />\r\n            </div>\r\n            \r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"fabricType\">Stoffart:</label>\r\n                 <select\r\n                    id=\"fabricType\"\r\n                    name=\"fabricType\"\r\n                    value={formData.fabricType}\r\n                    onChange={handleChange}\r\n                    required\r\n                >\r\n                    <option value=\"\">-- Stoffart wählen --</option>\r\n                    {FABRIC_TYPES.map(type => (\r\n                        <option key={type} value={type}>\r\n                            {type}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n\r\n            {/* 2. Beschreibung und Bestand */}\r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"description\">Beschreibung/Material:</label>\r\n                <textarea\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                    rows=\"3\"\r\n                />\r\n            </div>\r\n            \r\n             <div className=\"admin-form-group\">\r\n                <label htmlFor=\"stock\">Bestand (in Metern):</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"stock\"\r\n                    name=\"stock\"\r\n                    value={formData.stock}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    step=\"0.1\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            {/* 3. Verwendungszwecke */}\r\n            <div className=\"admin-form-group\" style={{border: '1px solid #ddd', padding: '10px', borderRadius: '8px'}}>\r\n                <label style={{ fontWeight: 'bold', display: 'block', marginBottom: '8px' }}>Verwendungszwecke:</label>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '5px' }}>\r\n                    {USAGE_OPTIONS.map(usage => (\r\n                        <label key={usage} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', fontSize: '0.9em' }}>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"suitableFor\"\r\n                                value={usage}\r\n                                checked={formData.suitableFor.includes(usage)}\r\n                                onChange={handleChange}\r\n                                style={{ marginRight: '5px' }}\r\n                            />\r\n                            {usage}\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* 4. Bild-Upload */}\r\n            <div className=\"admin-form-group\" style={{ border: '1px dashed #ccc', padding: '15px', borderRadius: '8px' }}>\r\n                <label htmlFor=\"imageFile\" style={{ fontWeight: 'bold' }}>Stoffmuster Bild (optional):</label>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"imageFile\"\r\n                    name=\"imageFile\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleChange}\r\n                />\r\n                \r\n                <div style={{ marginTop: '15px', display: 'flex', alignItems: 'center', gap: '15px' }}>\r\n                    <img\r\n                        src={getFinalPreviewUrl()}\r\n                        alt=\"Vorschau\"\r\n                        style={{ maxWidth: '80px', maxHeight: '80px', borderRadius: '8px', border: '1px solid #ccc', objectFit: 'cover' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* 5. Aktionen */}\r\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n                <button type=\"submit\" className=\"admin-form-submit-button\">\r\n                    {isEditing ? 'Änderungen speichern' : 'Stoff erstellen'}\r\n                </button>\r\n            </div>\r\n            \r\n        </form>\r\n    );\r\n};\r\n\r\n// =========================================================================\r\n// AdminFabricList - Liste der Stoffe\r\n// =========================================================================\r\n\r\nconst AdminFabricList = ({ fabrics, onDelete }) => {\r\n    return (\r\n        <div style={{ marginTop: '30px', padding: '20px', border: '1px solid var(--farbe-grau)', borderRadius: '12px' }}>\r\n            <h3 style={{ color: 'var(--farbe-primär-dunkel)', marginBottom: '20px' }}>\r\n                Stoff-Bestand-Übersicht ({fabrics.length})\r\n            </h3>\r\n\r\n            {fabrics.length === 0 ? (\r\n                 <p style={{ textAlign: 'center', color: '#666', padding: '20px' }}>Keine Stoffe im Bestand.</p>\r\n            ) : (\r\n                <table className=\"admin-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={{width: '60px'}}>Bild</th>\r\n                            <th>Stoffname</th>\r\n                            <th>Art</th>\r\n                            <th style={{width: '70px'}}>Bestand (m)</th>\r\n                            <th style={{width: '100px'}}>Aktionen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {fabrics.map((fabric) => (\r\n                            <tr key={fabric.id}>\r\n                                <td>\r\n                                     <img \r\n                                        src={getImageUrl(fabric.imageUrl, FALLBACK_FABRIC_IMAGE_URL)} \r\n                                        alt={fabric.name} \r\n                                        style={{ width: '40px', height: '40px', borderRadius: '4px', objectFit: 'cover' }} \r\n                                        onError={(e) => e.target.src = FALLBACK_FABRIC_IMAGE_URL}\r\n                                    />\r\n                                </td>\r\n                                <td>{fabric.name}</td>\r\n                                <td>{fabric.fabricType}</td>\r\n                                <td>{fabric.stock.toFixed(1)}</td>\r\n                                <td>\r\n                                    {/* Edit-Funktion hier NICHT implementiert, nur Löschen/Hinzufügen */}\r\n                                    <button \r\n                                        onClick={() => onDelete(fabric.id)} \r\n                                        title=\"Löschen\" \r\n                                        className=\"icon-button delete-button\"\r\n                                    >\r\n                                        <Trash2 size={16} />\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// =========================================================================\r\n// --- 3. HAUPTKOMPONENTE: AdminDashboard ---\r\n// =========================================================================\r\n\r\nconst AdminDashboard = () => {\r\n    const navigate = useNavigate();\r\n    \r\n    // Zustände für Produkte\r\n    const [products, setProducts] = useState([]);\r\n    const [isLoadingProducts, setIsLoadingProducts] = useState(true);\r\n    const [errorProducts, setErrorProducts] = useState(null);\r\n    const [currentProduct, setCurrentProduct] = useState(null); // Produkt, das gerade bearbeitet wird\r\n\r\n    // Zustände für Stoffe (Fabrics)\r\n    const [fabrics, setFabrics] = useState([]);\r\n    const [isLoadingFabrics, setIsLoadingFabrics] = useState(true);\r\n    const [errorFabrics, setErrorFabrics] = useState(null);\r\n    \r\n    // Zustände für Benachrichtigungen\r\n    const [message, setMessage] = useState('');\r\n    const [messageType, setMessageType] = useState('success'); // 'success' oder 'error'\r\n\r\n    // Benachrichtigungs-Funktion\r\n    const showMessage = (msg, type = 'success') => {\r\n        setMessage(msg);\r\n        setMessageType(type);\r\n        setTimeout(() => setMessage(''), 5000);\r\n    };\r\n\r\n    // =========================================================================\r\n    // DATENLADE-FUNKTIONEN\r\n    // =========================================================================\r\n\r\n    // Lädt alle Produkte\r\n    const loadProducts = useCallback(async () => {\r\n        setIsLoadingProducts(true);\r\n        setErrorProducts(null);\r\n        try {\r\n            const data = await fetchData('products');\r\n            setProducts(data);\r\n        } catch (error) {\r\n            console.error('Fehler beim Laden der Produkte:', error);\r\n            setErrorProducts(error.message);\r\n        } finally {\r\n            setIsLoadingProducts(false);\r\n        }\r\n    }, []);\r\n    \r\n    // Lädt alle Stoffe\r\n    const loadFabrics = useCallback(async () => {\r\n        setIsLoadingFabrics(true);\r\n        setErrorFabrics(null);\r\n        try {\r\n            const data = await fetchData('fabrics');\r\n            setFabrics(data);\r\n        } catch (error) {\r\n            console.error('Fehler beim Laden der Stoffe:', error);\r\n            setErrorFabrics(error.message);\r\n        } finally {\r\n            setIsLoadingFabrics(false);\r\n        }\r\n    }, []);\r\n\r\n    // Initiales Laden\r\n    useEffect(() => {\r\n        loadProducts();\r\n        loadFabrics();\r\n    }, [loadProducts, loadFabrics]);\r\n\r\n\r\n    // =========================================================================\r\n    // PRODUKT-HANDLUNG\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Produkt zur Bearbeitung auswählen.\r\n     */\r\n    const handleEdit = (product) => {\r\n        setCurrentProduct(product);\r\n        showMessage(`Produkt \"${product.name}\" zur Bearbeitung geladen.`, 'info');\r\n    };\r\n\r\n    /**\r\n     * Bearbeitung abbrechen und zum Erstellungsmodus zurückkehren.\r\n     */\r\n    const handleCancelEdit = () => {\r\n        setCurrentProduct(null);\r\n        showMessage('Bearbeitung abgebrochen. Bereit zur neuen Produkterstellung.', 'info');\r\n    };\r\n\r\n    /**\r\n     * Produkt erstellen oder aktualisieren.\r\n     */\r\n    const handleProductSubmit = async (formData) => {\r\n        const isEditing = !!formData.id;\r\n        const endpoint = isEditing ? `products/${formData.id}` : 'products';\r\n        const method = isEditing ? 'PUT' : 'POST';\r\n\r\n        try {\r\n            // 1. Prepare data (use FormData if a file is present)\r\n            let dataToSend;\r\n            let isMultipart = false;\r\n            \r\n            if (formData.imageFile) {\r\n                // Wenn ein neues Bild ausgewählt wurde, verwenden wir FormData\r\n                dataToSend = new FormData();\r\n                // Füge alle Felder (außer imageFile) hinzu\r\n                Object.keys(formData).forEach(key => {\r\n                    if (key !== 'imageFile') {\r\n                        // Spezielle Handhabung für boolean und number\r\n                         if (key === 'isFeatured') {\r\n                             dataToSend.append(key, formData[key] ? 'true' : 'false');\r\n                         } else if (key === 'price' || key === 'stock') {\r\n                             dataToSend.append(key, formData[key].toString());\r\n                         } else {\r\n                             dataToSend.append(key, formData[key] || '');\r\n                         }\r\n                    }\r\n                });\r\n                dataToSend.append('imageFile', formData.imageFile);\r\n                isMultipart = true;\r\n            } else {\r\n                // Wenn kein neues Bild ausgewählt wurde (oder nur Textdaten), verwenden wir JSON\r\n                // imageFile entfernen, da es nicht an das Backend gesendet werden soll\r\n                const { imageFile, ...jsonPayload } = formData; \r\n                dataToSend = jsonPayload;\r\n                isMultipart = false;\r\n            }\r\n\r\n            // 2. Send data\r\n            await sendData(endpoint, method, dataToSend, isMultipart);\r\n\r\n            // 3. Update state\r\n            await loadProducts(); \r\n            setCurrentProduct(null); // Bearbeitung abschließen\r\n\r\n            showMessage(`Produkt erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}!`, 'success');\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Speichern des Produkts:', error);\r\n            showMessage(`Fehler beim Speichern: ${error.message}`, 'error');\r\n        }\r\n    };\r\n    \r\n    /**\r\n     * Produkt löschen.\r\n     */\r\n    const handleDelete = async (productId) => {\r\n        if (!window.confirm(\"Sind Sie sicher, dass Sie dieses Produkt löschen möchten?\")) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await deleteData('products', productId);\r\n            await loadProducts();\r\n            // Falls das gelöschte Produkt gerade bearbeitet wurde\r\n            if (currentProduct && currentProduct.id === productId) {\r\n                setCurrentProduct(null);\r\n            }\r\n            showMessage('Produkt erfolgreich gelöscht.', 'success');\r\n        } catch (error) {\r\n            console.error('Fehler beim Löschen des Produkts:', error);\r\n            showMessage(`Fehler beim Löschen: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n\r\n    // =========================================================================\r\n    // STOFF-HANDLUNG (FABRICS)\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Stoff erstellen.\r\n     */\r\n    const handleAddFabric = async (formData) => {\r\n        const isEditing = !!formData.id;\r\n        const endpoint = isEditing ? `fabrics/${formData.id}` : 'fabrics';\r\n        const method = isEditing ? 'PUT' : 'POST';\r\n\r\n        try {\r\n            let dataToSend;\r\n            let isMultipart = false;\r\n            \r\n            if (formData.imageFile) {\r\n                // Bei Bild-Upload FormData verwenden\r\n                dataToSend = new FormData();\r\n                Object.keys(formData).forEach(key => {\r\n                    if (key !== 'imageFile' && key !== 'suitableFor') {\r\n                        dataToSend.append(key, formData[key]);\r\n                    }\r\n                });\r\n                dataToSend.append('suitableFor', JSON.stringify(formData.suitableFor));\r\n                dataToSend.append('imageFile', formData.imageFile);\r\n                isMultipart = true;\r\n            } else {\r\n                // Bei reinen Textdaten JSON verwenden\r\n                 const { imageFile, ...jsonPayload } = formData; \r\n                 dataToSend = jsonPayload;\r\n                 isMultipart = false;\r\n            }\r\n\r\n            await sendData(endpoint, method, dataToSend, isMultipart);\r\n            await loadFabrics();\r\n            showMessage(`Stoff erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}.`, 'success');\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Speichern des Stoffs:', error);\r\n            showMessage(`Fehler beim Speichern des Stoffs: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Stoff löschen.\r\n     */\r\n    const handleDeleteFabric = async (fabricId) => {\r\n        if (!window.confirm(\"Sind Sie sicher, dass Sie diesen Stoff löschen möchten? Alle zugeordneten Produkte bleiben erhalten, aber die Zuordnung geht verloren.\")) {\r\n            return;\r\n        }\r\n        \r\n        try {\r\n            await deleteData('fabrics', fabricId);\r\n            await loadFabrics();\r\n            showMessage('Stoff erfolgreich gelöscht.', 'success');\r\n        } catch (error) {\r\n            console.error('Fehler beim Löschen des Stoffs:', error);\r\n            showMessage(`Fehler beim Löschen des Stoffs: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n\r\n    // =========================================================================\r\n    // UI-HELPER\r\n    // =========================================================================\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('adminToken');\r\n        navigate('/admin'); // Leitet zur Login-Seite um\r\n        showMessage('Erfolgreich abgemeldet.', 'info');\r\n    };\r\n    \r\n    const overallLoading = isLoadingProducts || isLoadingFabrics;\r\n\r\n    const mainStyle = {\r\n        padding: '20px 50px',\r\n        maxWidth: '1400px',\r\n        margin: '0 auto',\r\n        fontFamily: 'Arial, sans-serif',\r\n    };\r\n    \r\n    // Custom Styles für Admin-Elemente, da Tailwind nicht global verfügbar ist\r\n    const styleSheet = `\r\n        .admin-form-container input[type=\"text\"],\r\n        .admin-form-container input[type=\"number\"],\r\n        .admin-form-container textarea,\r\n        .admin-form-container select {\r\n            width: 100%;\r\n            padding: 10px;\r\n            margin-top: 5px;\r\n            border: 1px solid var(--farbe-grau);\r\n            border-radius: 5px;\r\n            box-sizing: border-box;\r\n        }\r\n        .admin-form-group {\r\n            margin-bottom: 15px;\r\n        }\r\n        .admin-form-group label {\r\n            display: block;\r\n            margin-bottom: 5px;\r\n            font-weight: bold;\r\n            color: var(--farbe-text-dunkel);\r\n        }\r\n        .admin-form-submit-button {\r\n            padding: 10px 20px;\r\n            background-color: var(--farbe-akzent);\r\n            color: white;\r\n            border: none;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n            transition: background-color 0.2s;\r\n        }\r\n        .admin-form-submit-button:hover {\r\n            background-color: var(--farbe-sekundär);\r\n        }\r\n        .admin-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            font-size: 0.9em;\r\n        }\r\n        .admin-table th, .admin-table td {\r\n            padding: 8px;\r\n            border-bottom: 1px solid #eee;\r\n            text-align: left;\r\n        }\r\n        .admin-table th {\r\n            background-color: var(--farbe-grau);\r\n            color: var(--farbe-text-dunkel);\r\n        }\r\n        .icon-button {\r\n            background: none;\r\n            border: none;\r\n            cursor: pointer;\r\n            padding: 5px;\r\n            border-radius: 4px;\r\n            transition: background-color 0.2s;\r\n        }\r\n        .edit-button:hover { background-color: #ffe0b2; } /* Orange */\r\n        .delete-button:hover { background-color: #ffcdd2; } /* Rot */\r\n        .hint {\r\n            font-size: 0.8em;\r\n            color: #777;\r\n            margin-top: 5px;\r\n        }\r\n    `;\r\n\r\n    return (\r\n        <div style={mainStyle}>\r\n            <style>{styleSheet}</style> \r\n            <header style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', borderBottom: '2px solid var(--farbe-primär)', paddingBottom: '15px', marginBottom: '30px' }}>\r\n                <h1 style={{ color: 'var(--farbe-primär)', margin: 0 }}>\r\n                    Admin Dashboard\r\n                </h1>\r\n                <button \r\n                    onClick={handleLogout} \r\n                    style={{ \r\n                        backgroundColor: 'var(--farbe-rot)', \r\n                        color: 'white', \r\n                        padding: '10px 15px', \r\n                        borderRadius: '8px', \r\n                        border: 'none', \r\n                        cursor: 'pointer',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '5px'\r\n                    }}\r\n                >\r\n                    <LogOut size={18} /> Abmelden\r\n                </button>\r\n            </header>\r\n\r\n            {/* Globale Status-/Fehlermeldung */}\r\n            {message && (\r\n                <div style={{ \r\n                    padding: '15px', \r\n                    borderRadius: '8px', \r\n                    marginBottom: '20px', \r\n                    fontWeight: 'bold',\r\n                    backgroundColor: messageType === 'success' ? '#d4edda' : messageType === 'info' ? '#cce5ff' : '#f8d7da',\r\n                    color: messageType === 'success' ? '#155724' : messageType === 'info' ? '#004085' : '#721c24',\r\n                    border: `1px solid ${messageType === 'success' ? '#c3e6cb' : messageType === 'info' ? '#b8daff' : '#f5c6cb'}`\r\n                }}>\r\n                    {message}\r\n                </div>\r\n            )}\r\n            \r\n            {overallLoading && (\r\n                <p style={{ textAlign: 'center', padding: '50px', fontSize: '1.2em', color: 'var(--farbe-primär)' }}>\r\n                    Daten werden geladen...\r\n                </p>\r\n            )}\r\n\r\n            {/* 1. Bereich: Produkt-Verwaltung */}\r\n            <h1 style={{ color: 'var(--farbe-primär)', marginBottom: '30px', fontSize: '1.8em' }}>\r\n                Produkt-Inventar-Verwaltung\r\n            </h1>\r\n            \r\n            <div style={{ display: 'grid', gridTemplateColumns: 'minmax(350px, 1fr) minmax(600px, 2fr)', gap: '40px' }}>\r\n                {/* 1. Spalte: Produktformular */}\r\n                <div>\r\n                    <ProductForm\r\n                        key={currentProduct ? currentProduct.id : 'new'} \r\n                        productToEdit={currentProduct}\r\n                        onSubmit={handleProductSubmit}\r\n                        onCancel={handleCancelEdit}\r\n                        fabrics={fabrics} \r\n                    />\r\n                </div>\r\n\r\n                {/* 2. Spalte: Produktliste */}\r\n                <div>\r\n                    {errorProducts && <p style={{ color: 'var(--farbe-rot)', fontWeight: 'bold' }}>Fehler beim Laden der Produkte: {errorProducts}</p>}\r\n                    <AdminProductList \r\n                        products={products}\r\n                        onEdit={handleEdit}\r\n                        onDelete={handleDelete}\r\n                        fabrics={fabrics} \r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n            \r\n            {/* 2. Bereich: Stoff-Verwaltung (Unterhalb des Grids) */}\r\n            <div style={{ \r\n                marginTop: '60px', \r\n                borderTop: '2px solid var(--farbe-grau)', \r\n                paddingTop: '30px' \r\n            }}>\r\n                <h1 style={{ color: 'var(--farbe-primär)', marginBottom: '30px', fontSize: '1.8em' }}>\r\n                    Stoff-Inventar-Verwaltung\r\n                </h1>\r\n                \r\n                {/* Stoff-Formular */}\r\n                <FabricForm \r\n                    onAdd={handleAddFabric} \r\n                    stoffToEdit={null} // Derzeit nur Erstellung unterstützt (keine Bearbeitung)\r\n                />\r\n                \r\n                {/* Stoff-Liste */}\r\n                {errorFabrics && <p style={{ color: 'var(--farbe-rot)', fontWeight: 'bold' }}>Fehler beim Laden der Stoffe: {errorFabrics}</p>}\r\n                <AdminFabricList fabrics={fabrics} onDelete={handleDeleteFabric} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}