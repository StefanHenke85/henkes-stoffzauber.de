{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\henkes-stoffzauber\\\\henkes-stoffzauber-projekt\\\\client\\\\src\\\\AdminDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// client/src/components/AdminDashboard.js\nimport React, { useState, useEffect, useMemo } from 'react';\nimport ProductForm from './ProductForm'; // Import bleibt bestehen\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3001/api/products';\nconst FABRIC_API_URL = 'http://localhost:3001/api/fabrics'; // NEU: Endpoint für Stoffe\nconst BACKEND_URL = 'http://localhost:3001';\nconst FALLBACK_IMAGE = \"https://placehold.co/50x50/eee/333?text=Bild\";\n\n// FIX: Diese Funktion stellt sicher, dass /uploads/ Pfade die Server-URL erhalten\nconst getImageUrl = imagePath => {\n  if (imagePath && imagePath.startsWith('/uploads/')) {\n    return `${BACKEND_URL}${imagePath}`;\n  }\n  // Handhabt externe URLs (wie placehold.co) oder defekte Pfade\n  return imagePath || FALLBACK_IMAGE;\n};\n\n// =========================================================================\n// HILFSKOMPONENTEN (Intern definiert, um den Dateizugriff zu vereinfachen)\n// =========================================================================\n\n// --- Komponente: Stoffliste im Admin (AdminFabricList) ---\nconst AdminFabricList = ({\n  fabrics,\n  onDelete\n}) => {\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    marginTop: '20px',\n    boxShadow: '0 4px 10px rgba(0, 0, 0, 0.05)'\n  };\n  const thTdStyle = {\n    padding: '12px 15px',\n    textAlign: 'left',\n    borderBottom: '1px solid #ddd'\n  };\n  const thStyle = {\n    ...thTdStyle,\n    backgroundColor: 'var(--farbe-grau-hell)',\n    color: 'var(--farbe-text-dunkel)'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '30px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        fontSize: '1.4em',\n        color: 'var(--farbe-primär)',\n        margin: '0 0 15px 0'\n      },\n      children: [\"Verf\\xFCgbare Stoffarten (\", fabrics.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), fabrics.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#666'\n      },\n      children: \"Momentan sind keine Stoffe im Inventar.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      style: tableStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Stoffart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Bestand (m)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Aktionen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: fabrics.map(stoff => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: stoff.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: stoff.fabricType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: stoff.stock || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onDelete(stoff.id),\n              style: {\n                backgroundColor: 'var(--farbe-rot)',\n                color: 'white',\n                border: 'none',\n                padding: '5px 10px',\n                borderRadius: '5px',\n                cursor: 'pointer'\n              },\n              children: \"L\\xF6schen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 33\n          }, this)]\n        }, stoff.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Komponente: Stoff-Formular (FabricForm) ---\n_c = AdminFabricList;\nconst FABRIC_TYPES = ['Jersey', 'French Terry (Sommersweat)', 'Sweat', 'Bündchenstoff', 'Musselin', 'Webware Baumwolle', 'Cord', 'Fleece', 'Softshell', 'Leder (Imitat/Echt)'];\nconst USAGE_OPTIONS = ['Mütze (Außen)', 'Mütze (Innen)', 'Bündchen', 'Bekleidung (Oberteil)', 'Bekleidung (Hose)', 'Babybekleidung', 'Deko', 'Taschen', 'Accessoires'];\nconst FabricForm = ({\n  onAdd\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    fabricType: FABRIC_TYPES[0],\n    suitableFor: [],\n    stock: 0,\n    imageFile: null\n  });\n  const [previewImage, setPreviewImage] = useState(null);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    if (name === 'imageFile') {\n      const file = e.target.files[0];\n      setFormData(prev => ({\n        ...prev,\n        imageFile: file\n      }));\n      if (previewImage) URL.revokeObjectURL(previewImage);\n      setPreviewImage(file ? URL.createObjectURL(file) : null);\n    } else if (name === 'suitableFor') {\n      const usage = value;\n      setFormData(prev => ({\n        ...prev,\n        suitableFor: checked ? [...prev.suitableFor, usage] : prev.suitableFor.filter(item => item !== usage)\n      }));\n    } else if (name === 'stock') {\n      // Stellt sicher, dass stock eine positive Zahl ist\n      const numericValue = parseInt(value);\n      setFormData(prev => ({\n        ...prev,\n        [name]: isNaN(numericValue) ? 0 : Math.max(0, numericValue)\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    onAdd(formData); // Übergibt die Daten an die Funktion in AdminDashboard\n    // Formular zurücksetzen\n    setFormData({\n      name: '',\n      description: '',\n      fabricType: FABRIC_TYPES[0],\n      suitableFor: [],\n      stock: 0,\n      imageFile: null\n    });\n    if (previewImage) URL.revokeObjectURL(previewImage);\n    setPreviewImage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"admin-form-card\",\n    style: {\n      marginBottom: '30px',\n      border: '1px solid var(--farbe-grau)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"admin-form-title\",\n      children: \"Neuen Stoff zum Inventar hinzuf\\xFCgen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"stoffName\",\n          children: \"Name des Stoffes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"stoffName\",\n          name: \"name\",\n          type: \"text\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fabricType\",\n          children: \"Stoffart:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"fabricType\",\n          name: \"fabricType\",\n          value: formData.fabricType,\n          onChange: handleChange,\n          required: true,\n          className: \"admin-select\",\n          children: FABRIC_TYPES.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type,\n            children: type\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"stoffBeschreibung\",\n        children: \"Beschreibung:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"stoffBeschreibung\",\n        name: \"description\",\n        value: formData.description,\n        onChange: handleChange,\n        rows: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"stoffStock\",\n          children: \"Bestand (in Metern):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"stoffStock\",\n          name: \"stock\",\n          type: \"number\",\n          min: \"0\",\n          value: formData.stock,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-group\",\n        style: {\n          display: 'flex',\n          gap: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexGrow: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"imageFile\",\n            children: \"Stoffmuster Bild (optional):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"imageFile\",\n            name: \"imageFile\",\n            accept: \"image/*\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), previewImage && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100px',\n            flexShrink: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: previewImage,\n            alt: \"Vorschau\",\n            style: {\n              maxWidth: '100%',\n              maxHeight: '100px',\n              borderRadius: '8px',\n              border: '1px solid #ccc',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Geeignet f\\xFCr (max. 3 Empfehlungen):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '10px'\n        },\n        children: USAGE_OPTIONS.map(usage => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '5px',\n            fontWeight: 'normal'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"suitableFor\",\n            value: usage,\n            checked: formData.suitableFor.includes(usage),\n            onChange: handleChange,\n            style: {\n              width: '15px',\n              height: '15px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), usage]\n        }, usage, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"admin-form-submit-button\",\n      children: \"Stoff erstellen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Komponente: Produktliste im Admin (AdminProductList) ---\n_s(FabricForm, \"GSBxortvwcAqOHNoTBi0cVMjTak=\");\n_c2 = FabricForm;\nconst AdminProductList = ({\n  products,\n  onEdit,\n  onDelete,\n  fabrics = []\n}) => {\n  _s2();\n  // Stoff-Map erstellen, um schnell den Namen anhand der ID zu finden\n  const fabricMap = useMemo(() => {\n    return fabrics.reduce((map, fabric) => {\n      map[fabric.id] = fabric.name;\n      return map;\n    }, {});\n  }, [fabrics]);\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    marginTop: '20px',\n    boxShadow: '0 4px 10px rgba(0, 0, 0, 0.05)'\n  };\n  const thTdStyle = {\n    padding: '12px 15px',\n    textAlign: 'left',\n    borderBottom: '1px solid #ddd'\n  };\n  const thStyle = {\n    ...thTdStyle,\n    backgroundColor: 'var(--farbe-grau-hell)',\n    color: 'var(--farbe-text-dunkel)'\n  };\n  const actionButtonStyle = bgColor => ({\n    backgroundColor: bgColor,\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    borderRadius: '5px',\n    cursor: 'pointer',\n    marginRight: '5px',\n    fontSize: '0.8em'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: '1.5em',\n        color: '#333',\n        margin: '0 0 20px 0'\n      },\n      children: [\"Alle Produkte im System (\", products.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#666'\n      },\n      children: \"Keine Produkte im System.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      style: tableStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Bild\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Preis (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Bestand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Abmessungen (cm)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Stoff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Featured\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Aktionen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              ...thTdStyle,\n              width: '60px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(product.imageUrl),\n              alt: product.name,\n              style: {\n                width: '50px',\n                height: '50px',\n                objectFit: 'cover',\n                borderRadius: '5px'\n              },\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = FALLBACK_IMAGE;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: product.price.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: product.stock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: [\"B: \", product.availableWidth || 0, \" x H: \", product.availableHeight || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: product.fabricId ? fabricMap[product.fabricId] || 'Unbekannt' : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: product.isFeatured ? 'Ja' : 'Nein'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: thTdStyle,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onEdit(product),\n              style: actionButtonStyle('var(--farbe-akzent)'),\n              children: \"Bearbeiten\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onDelete(product.id),\n              style: actionButtonStyle('var(--farbe-rot)'),\n              children: \"L\\xF6schen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 33\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 9\n  }, this);\n};\n\n// =========================================================================\n// HAUPTKOMPONENTE: AdminDashboard\n// =========================================================================\n_s2(AdminProductList, \"/nqj/tke2pXH5IvoC9hpAureges=\");\n_c3 = AdminProductList;\nconst AdminDashboard = ({\n  navigate\n}) => {\n  _s3();\n  const [products, setProducts] = useState([]);\n  const [fabrics, setFabrics] = useState([]); // NEU: Zustand für Stoffe\n  const [currentProduct, setCurrentProduct] = useState(null);\n  const [statusMessage, setStatusMessage] = useState({\n    text: '',\n    type: ''\n  });\n\n  // --- Allgemeine Hilfsfunktionen ---\n  const setStatus = (text, type = 'info') => {\n    setStatusMessage({\n      text,\n      type\n    });\n    // Nachricht nach 5 Sekunden ausblenden\n    setTimeout(() => setStatusMessage({\n      text: '',\n      type: ''\n    }), 5000);\n  };\n\n  // --- Produkt-CRUD-Funktionen ---\n\n  // Datenabruf für Produkte und Stoffe\n  const fetchData = async () => {\n    try {\n      // 1. Produkte abrufen\n      const productsResponse = await fetch(API_URL);\n      if (!productsResponse.ok) throw new Error('Fehler beim Abruf der Produkte.');\n      const productsData = await productsResponse.json();\n      setProducts(productsData);\n\n      // 2. Stoffe abrufen (NEU)\n      const fabricsResponse = await fetch(FABRIC_API_URL);\n      if (!fabricsResponse.ok) throw new Error('Fehler beim Abruf der Stoffe.');\n      const fabricsData = await fabricsResponse.json();\n      setFabrics(fabricsData);\n    } catch (error) {\n      console.error('Fehler beim Abruf der Daten:', error);\n      setStatus(`Ladefehler: ${error.message}`, 'error');\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Produkt erstellen/aktualisieren\n  const handleProductSubmit = async (formData, isEditing) => {\n    const action = isEditing ? 'PUT' : 'POST';\n    const url = isEditing ? `${API_URL}/${formData.id}` : API_URL;\n\n    // Erstellen des FormData-Objekts für Multipart/form-data (wegen des Bild-Uploads)\n    const formPayload = new FormData();\n\n    // Hinzufügen aller Felder, AUßER imageFile und imageUrl\n    Object.keys(formData).forEach(key => {\n      if (key !== 'imageFile' && key !== 'imageUrl' && key !== 'id') {\n        formPayload.append(key, formData[key]);\n      }\n    });\n\n    // Speziell für Datei: Nur hinzufügen, wenn eine neue Datei ausgewählt wurde\n    if (formData.imageFile) {\n      formPayload.append('imageFile', formData.imageFile);\n    }\n    try {\n      const response = await fetch(url, {\n        method: action,\n        // ACHTUNG: Bei FormData-Objekten MUSS der 'Content-Type': 'multipart/form-data' \n        // vom Browser automatisch gesetzt werden. Wenn Sie ihn manuell setzen, \n        // wird der Boundary-String nicht korrekt hinzugefügt und der Upload schlägt fehl.\n        body: formPayload\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Serverfehler: ${response.status} - ${errorText}`);\n      }\n\n      // Daten neu laden und Formular zurücksetzen\n      await fetchData();\n      setCurrentProduct(null);\n      setStatus(`Produkt erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}.`, 'info');\n    } catch (error) {\n      console.error('Fehler bei der Übermittlung:', error);\n      setStatus(`Fehler bei der ${isEditing ? 'Aktualisierung' : 'Erstellung'} des Produkts: ${error.message}`, 'error');\n    }\n  };\n\n  // Produkt löschen\n  const handleDelete = async productId => {\n    if (!window.confirm('Sind Sie sicher, dass Sie dieses Produkt löschen möchten?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/${productId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        throw new Error('Fehler beim Löschen des Produkts.');\n      }\n      await fetchData();\n      setStatus('Produkt erfolgreich gelöscht.', 'info');\n\n      // Falls das gerade bearbeitete Produkt gelöscht wurde\n      if (currentProduct && currentProduct.id === productId) {\n        setCurrentProduct(null);\n      }\n    } catch (error) {\n      console.error('Fehler beim Löschen:', error);\n      setStatus(`Fehler beim Löschen des Produkts: ${error.message}`, 'error');\n    }\n  };\n\n  // Bearbeitungsmodus starten\n  const handleEdit = product => {\n    setCurrentProduct(product);\n    setStatus(`Bearbeite Produkt: ${product.name}`, 'info');\n    // Optional: Zum Formular scrollen\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  // Bearbeitungsmodus abbrechen\n  const handleCancelEdit = () => {\n    setCurrentProduct(null);\n    setStatusMessage({\n      text: '',\n      type: ''\n    });\n  };\n\n  // --- Stoff-CRUD-Funktionen (NEU) ---\n\n  // Stoff hinzufügen\n  const handleAddFabric = async formData => {\n    const formPayload = new FormData();\n    Object.keys(formData).forEach(key => {\n      if (key !== 'imageFile') {\n        // Bei suitableFor: Array als JSON-String senden\n        formPayload.append(key, key === 'suitableFor' ? JSON.stringify(formData[key]) : formData[key]);\n      }\n    });\n    if (formData.imageFile) {\n      formPayload.append('imageFile', formData.imageFile);\n    }\n    try {\n      const response = await fetch(FABRIC_API_URL, {\n        method: 'POST',\n        body: formPayload\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Serverfehler: ${response.status} - ${errorText}`);\n      }\n      await fetchData();\n      setStatus('Stoff erfolgreich zum Inventar hinzugefügt.', 'info');\n    } catch (error) {\n      console.error('Fehler beim Hinzufügen des Stoffes:', error);\n      setStatus(`Fehler beim Hinzufügen des Stoffes: ${error.message}`, 'error');\n    }\n  };\n\n  // Stoff löschen\n  const handleDeleteFabric = async fabricId => {\n    if (!window.confirm('Sind Sie sicher, dass Sie diesen Stoff löschen möchten? (Alle Produkte, die diesen Stoff verwenden, behalten die ID, bis sie bearbeitet werden.)')) {\n      return;\n    }\n\n    // Überprüfen, ob Produkte diesen Stoff verwenden\n    const productsUsingFabric = products.filter(p => p.fabricId === fabricId);\n    if (productsUsingFabric.length > 0) {\n      if (!window.confirm(`ACHTUNG: ${productsUsingFabric.length} Produkt(e) verwenden diesen Stoff noch. Fortfahren?`)) {\n        return;\n      }\n    }\n    try {\n      const response = await fetch(`${FABRIC_API_URL}/${fabricId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        throw new Error('Fehler beim Löschen des Stoffes.');\n      }\n      await fetchData();\n      setStatus('Stoff erfolgreich gelöscht.', 'info');\n    } catch (error) {\n      console.error('Fehler beim Löschen des Stoffes:', error);\n      setStatus(`Fehler beim Löschen des Stoffes: ${error.message}`, 'error');\n    }\n  };\n\n  // Status-Nachrichten-Stil (bleibt inline, da dynamisch)\n  const statusStyle = {\n    padding: '10px',\n    margin: '10px 0',\n    borderRadius: '8px',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    color: 'white',\n    backgroundColor: statusMessage.type === 'error' ? 'var(--farbe-rot)' : 'var(--farbe-akzent)',\n    display: statusMessage.text ? 'block' : 'none'\n  };\n  return (\n    /*#__PURE__*/\n    // Verwendet jetzt CSS-Klassen aus index.css\n    _jsxDEV(\"div\", {\n      className: \"admin-dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: statusStyle,\n        children: statusMessage.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: 'var(--farbe-primär)',\n          marginBottom: '30px',\n          fontSize: '1.8em'\n        },\n        children: \"Produkt-Verwaltung\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-grid-layout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ProductForm, {\n            productToEdit: currentProduct,\n            onSubmit: handleProductSubmit,\n            onCancel: handleCancelEdit,\n            fabrics: fabrics // WICHTIG: Stoffe werden an das Formular übergeben\n          }, currentProduct ? currentProduct.id : 'new', false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(AdminProductList, {\n            products: products,\n            onEdit: handleEdit,\n            onDelete: handleDelete,\n            fabrics: fabrics // WICHTIG: Stoffe werden an die Liste übergeben\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '40px',\n          borderTop: '2px solid var(--farbe-grau)',\n          paddingTop: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: 'var(--farbe-primär)',\n            marginBottom: '30px',\n            fontSize: '1.8em'\n          },\n          children: \"Stoff-Inventar-Verwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FabricForm, {\n          onAdd: handleAddFabric\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AdminFabricList, {\n          fabrics: fabrics,\n          onDelete: handleDeleteFabric\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 9\n    }, this)\n  );\n};\n_s3(AdminDashboard, \"SfOJpeEz90HNaxbmnfkrWrXlRZ0=\");\n_c4 = AdminDashboard;\nexport default AdminDashboard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AdminFabricList\");\n$RefreshReg$(_c2, \"FabricForm\");\n$RefreshReg$(_c3, \"AdminProductList\");\n$RefreshReg$(_c4, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","ProductForm","jsxDEV","_jsxDEV","API_URL","FABRIC_API_URL","BACKEND_URL","FALLBACK_IMAGE","getImageUrl","imagePath","startsWith","AdminFabricList","fabrics","onDelete","tableStyle","width","borderCollapse","marginTop","boxShadow","thTdStyle","padding","textAlign","borderBottom","thStyle","backgroundColor","color","style","children","fontSize","margin","length","fileName","_jsxFileName","lineNumber","columnNumber","map","stoff","name","fabricType","stock","onClick","id","border","borderRadius","cursor","_c","FABRIC_TYPES","USAGE_OPTIONS","FabricForm","onAdd","_s","formData","setFormData","description","suitableFor","imageFile","previewImage","setPreviewImage","handleChange","e","value","type","checked","target","file","files","prev","URL","revokeObjectURL","createObjectURL","usage","filter","item","numericValue","parseInt","isNaN","Math","max","handleSubmit","preventDefault","onSubmit","className","marginBottom","htmlFor","onChange","required","rows","min","display","gap","flexGrow","accept","flexShrink","src","alt","maxWidth","maxHeight","objectFit","flexWrap","alignItems","fontWeight","includes","height","_c2","AdminProductList","products","onEdit","_s2","fabricMap","reduce","fabric","actionButtonStyle","bgColor","marginRight","product","imageUrl","onError","onerror","price","toFixed","availableWidth","availableHeight","fabricId","isFeatured","_c3","AdminDashboard","navigate","_s3","setProducts","setFabrics","currentProduct","setCurrentProduct","statusMessage","setStatusMessage","text","setStatus","setTimeout","fetchData","productsResponse","fetch","ok","Error","productsData","json","fabricsResponse","fabricsData","error","console","message","handleProductSubmit","isEditing","action","url","formPayload","FormData","Object","keys","forEach","key","append","response","method","body","errorText","status","handleDelete","productId","window","confirm","handleEdit","scrollTo","top","behavior","handleCancelEdit","handleAddFabric","JSON","stringify","handleDeleteFabric","productsUsingFabric","p","statusStyle","productToEdit","onCancel","borderTop","paddingTop","_c4","$RefreshReg$"],"sources":["C:/Users/Stefan/Desktop/henkes-stoffzauber/henkes-stoffzauber-projekt/client/src/AdminDashboard.js"],"sourcesContent":["// client/src/components/AdminDashboard.js\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport ProductForm from './ProductForm'; // Import bleibt bestehen\r\n\r\nconst API_URL = 'http://localhost:3001/api/products';\r\nconst FABRIC_API_URL = 'http://localhost:3001/api/fabrics'; // NEU: Endpoint für Stoffe\r\nconst BACKEND_URL = 'http://localhost:3001';\r\nconst FALLBACK_IMAGE = \"https://placehold.co/50x50/eee/333?text=Bild\";\r\n\r\n\r\n// FIX: Diese Funktion stellt sicher, dass /uploads/ Pfade die Server-URL erhalten\r\nconst getImageUrl = (imagePath) => {\r\n    if (imagePath && imagePath.startsWith('/uploads/')) {\r\n        return `${BACKEND_URL}${imagePath}`;\r\n    }\r\n    // Handhabt externe URLs (wie placehold.co) oder defekte Pfade\r\n    return imagePath || FALLBACK_IMAGE;\r\n};\r\n\r\n\r\n// =========================================================================\r\n// HILFSKOMPONENTEN (Intern definiert, um den Dateizugriff zu vereinfachen)\r\n// =========================================================================\r\n\r\n// --- Komponente: Stoffliste im Admin (AdminFabricList) ---\r\nconst AdminFabricList = ({ fabrics, onDelete }) => {\r\n    const tableStyle = {\r\n        width: '100%',\r\n        borderCollapse: 'collapse',\r\n        marginTop: '20px',\r\n        boxShadow: '0 4px 10px rgba(0, 0, 0, 0.05)',\r\n    };\r\n    const thTdStyle = {\r\n        padding: '12px 15px',\r\n        textAlign: 'left',\r\n        borderBottom: '1px solid #ddd',\r\n    };\r\n    const thStyle = {\r\n        ...thTdStyle,\r\n        backgroundColor: 'var(--farbe-grau-hell)',\r\n        color: 'var(--farbe-text-dunkel)',\r\n    };\r\n\r\n    return (\r\n        <div style={{ marginTop: '30px' }}>\r\n            <h3 style={{ fontSize: '1.4em', color: 'var(--farbe-primär)', margin: '0 0 15px 0' }}>\r\n                Verfügbare Stoffarten ({fabrics.length})\r\n            </h3>\r\n            {fabrics.length === 0 ? (\r\n                <p style={{ color: '#666' }}>Momentan sind keine Stoffe im Inventar.</p>\r\n            ) : (\r\n                <table style={tableStyle}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={thStyle}>Name</th>\r\n                            <th style={thStyle}>Stoffart</th>\r\n                            <th style={thStyle}>Bestand (m)</th>\r\n                            <th style={thStyle}>Aktionen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {fabrics.map((stoff) => (\r\n                            <tr key={stoff.id}>\r\n                                <td style={thTdStyle}>{stoff.name}</td>\r\n                                <td style={thTdStyle}>{stoff.fabricType}</td>\r\n                                <td style={thTdStyle}>{stoff.stock || 0}</td>\r\n                                <td style={thTdStyle}>\r\n                                    <button \r\n                                        onClick={() => onDelete(stoff.id)}\r\n                                        style={{ backgroundColor: 'var(--farbe-rot)', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '5px', cursor: 'pointer' }}\r\n                                    >\r\n                                        Löschen\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- Komponente: Stoff-Formular (FabricForm) ---\r\nconst FABRIC_TYPES = [\r\n    'Jersey', 'French Terry (Sommersweat)', 'Sweat', 'Bündchenstoff', 'Musselin', \r\n    'Webware Baumwolle', 'Cord', 'Fleece', 'Softshell', 'Leder (Imitat/Echt)'\r\n];\r\nconst USAGE_OPTIONS = [\r\n    'Mütze (Außen)', 'Mütze (Innen)', 'Bündchen', 'Bekleidung (Oberteil)', \r\n    'Bekleidung (Hose)', 'Babybekleidung', 'Deko', 'Taschen', 'Accessoires'\r\n];\r\nconst FabricForm = ({ onAdd }) => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        fabricType: FABRIC_TYPES[0],\r\n        suitableFor: [],\r\n        stock: 0,\r\n        imageFile: null,\r\n    });\r\n    const [previewImage, setPreviewImage] = useState(null);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        \r\n        if (name === 'imageFile') {\r\n            const file = e.target.files[0];\r\n            setFormData(prev => ({ ...prev, imageFile: file }));\r\n            if (previewImage) URL.revokeObjectURL(previewImage);\r\n            setPreviewImage(file ? URL.createObjectURL(file) : null);\r\n        } else if (name === 'suitableFor') {\r\n            const usage = value;\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                suitableFor: checked \r\n                    ? [...prev.suitableFor, usage] \r\n                    : prev.suitableFor.filter(item => item !== usage)\r\n            }));\r\n        } else if (name === 'stock') {\r\n             // Stellt sicher, dass stock eine positive Zahl ist\r\n            const numericValue = parseInt(value);\r\n            setFormData(prev => ({ \r\n                ...prev, \r\n                [name]: isNaN(numericValue) ? 0 : Math.max(0, numericValue)\r\n            }));\r\n        }\r\n        else {\r\n            setFormData(prev => ({ ...prev, [name]: value }));\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        onAdd(formData); // Übergibt die Daten an die Funktion in AdminDashboard\r\n        // Formular zurücksetzen\r\n        setFormData({ name: '', description: '', fabricType: FABRIC_TYPES[0], suitableFor: [], stock: 0, imageFile: null });\r\n        if (previewImage) URL.revokeObjectURL(previewImage);\r\n        setPreviewImage(null);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"admin-form-card\" style={{ marginBottom: '30px', border: '1px solid var(--farbe-grau)' }}>\r\n            <h3 className=\"admin-form-title\">Neuen Stoff zum Inventar hinzufügen</h3>\r\n\r\n            <div className=\"admin-form-row\">\r\n                <div className=\"admin-form-group\">\r\n                    <label htmlFor=\"stoffName\">Name des Stoffes:</label>\r\n                    <input id=\"stoffName\" name=\"name\" type=\"text\" value={formData.name} onChange={handleChange} required />\r\n                </div>\r\n                <div className=\"admin-form-group\">\r\n                    <label htmlFor=\"fabricType\">Stoffart:</label>\r\n                    <select id=\"fabricType\" name=\"fabricType\" value={formData.fabricType} onChange={handleChange} required className=\"admin-select\">\r\n                        {FABRIC_TYPES.map(type => (\r\n                            <option key={type} value={type}>{type}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"admin-form-group\">\r\n                <label htmlFor=\"stoffBeschreibung\">Beschreibung:</label>\r\n                <textarea id=\"stoffBeschreibung\" name=\"description\" value={formData.description} onChange={handleChange} rows=\"2\" />\r\n            </div>\r\n\r\n            <div className=\"admin-form-row\">\r\n                <div className=\"admin-form-group\">\r\n                    <label htmlFor=\"stoffStock\">Bestand (in Metern):</label>\r\n                    <input id=\"stoffStock\" name=\"stock\" type=\"number\" min=\"0\" value={formData.stock} onChange={handleChange} required />\r\n                </div>\r\n                <div className=\"admin-form-group\" style={{ display: 'flex', gap: '20px' }}>\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <label htmlFor=\"imageFile\">Stoffmuster Bild (optional):</label>\r\n                        <input type=\"file\" id=\"imageFile\" name=\"imageFile\" accept=\"image/*\" onChange={handleChange} />\r\n                    </div>\r\n                    {previewImage && (\r\n                        <div style={{ width: '100px', flexShrink: 0 }}>\r\n                            <img\r\n                                src={previewImage}\r\n                                alt=\"Vorschau\"\r\n                                style={{ maxWidth: '100%', maxHeight: '100px', borderRadius: '8px', border: '1px solid #ccc', objectFit: 'cover' }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Checkboxen für Verwendungszwecke */}\r\n            <div className=\"admin-form-group\">\r\n                <label>Geeignet für (max. 3 Empfehlungen):</label>\r\n                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px' }}>\r\n                    {USAGE_OPTIONS.map(usage => (\r\n                        <label key={usage} style={{ display: 'flex', alignItems: 'center', gap: '5px', fontWeight: 'normal' }}>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"suitableFor\"\r\n                                value={usage}\r\n                                checked={formData.suitableFor.includes(usage)}\r\n                                onChange={handleChange}\r\n                                style={{ width: '15px', height: '15px' }}\r\n                            />\r\n                            {usage}\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            \r\n            <button type=\"submit\" className=\"admin-form-submit-button\">Stoff erstellen</button>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\n// --- Komponente: Produktliste im Admin (AdminProductList) ---\r\nconst AdminProductList = ({ products, onEdit, onDelete, fabrics = [] }) => {\r\n    \r\n    // Stoff-Map erstellen, um schnell den Namen anhand der ID zu finden\r\n    const fabricMap = useMemo(() => {\r\n        return fabrics.reduce((map, fabric) => {\r\n            map[fabric.id] = fabric.name;\r\n            return map;\r\n        }, {});\r\n    }, [fabrics]);\r\n\r\n    const tableStyle = {\r\n        width: '100%',\r\n        borderCollapse: 'collapse',\r\n        marginTop: '20px',\r\n        boxShadow: '0 4px 10px rgba(0, 0, 0, 0.05)',\r\n    };\r\n    const thTdStyle = {\r\n        padding: '12px 15px',\r\n        textAlign: 'left',\r\n        borderBottom: '1px solid #ddd',\r\n    };\r\n    const thStyle = {\r\n        ...thTdStyle,\r\n        backgroundColor: 'var(--farbe-grau-hell)',\r\n        color: 'var(--farbe-text-dunkel)',\r\n    };\r\n    const actionButtonStyle = (bgColor) => ({\r\n        backgroundColor: bgColor,\r\n        color: 'white',\r\n        border: 'none',\r\n        padding: '5px 10px',\r\n        borderRadius: '5px',\r\n        cursor: 'pointer',\r\n        marginRight: '5px',\r\n        fontSize: '0.8em',\r\n    });\r\n\r\n    return (\r\n        <div className=\"admin-list-container\">\r\n            <h2 style={{ fontSize: '1.5em', color: '#333', margin: '0 0 20px 0' }}>\r\n                Alle Produkte im System ({products.length})\r\n            </h2>\r\n            {products.length === 0 ? (\r\n                <p style={{ color: '#666' }}>Keine Produkte im System.</p>\r\n            ) : (\r\n                <table style={tableStyle}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={thStyle}>Bild</th>\r\n                            <th style={thStyle}>Name</th>\r\n                            <th style={thStyle}>Preis (€)</th>\r\n                            <th style={thStyle}>Bestand</th>\r\n                            <th style={thStyle}>Abmessungen (cm)</th> {/* NEU */}\r\n                            <th style={thStyle}>Stoff</th> {/* NEU */}\r\n                            <th style={thStyle}>Featured</th>\r\n                            <th style={thStyle}>Aktionen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {products.map(product => (\r\n                            <tr key={product.id}>\r\n                                <td style={{ ...thTdStyle, width: '60px' }}>\r\n                                    <img\r\n                                        src={getImageUrl(product.imageUrl)}\r\n                                        alt={product.name}\r\n                                        style={{ width: '50px', height: '50px', objectFit: 'cover', borderRadius: '5px' }}\r\n                                        onError={(e) => { e.target.onerror = null; e.target.src = FALLBACK_IMAGE; }}\r\n                                    />\r\n                                </td>\r\n                                <td style={thTdStyle}>{product.name}</td>\r\n                                <td style={thTdStyle}>{product.price.toFixed(2)}</td>\r\n                                <td style={thTdStyle}>{product.stock}</td>\r\n                                <td style={thTdStyle}>\r\n                                    B: {product.availableWidth || 0} x H: {product.availableHeight || 0}\r\n                                </td>\r\n                                <td style={thTdStyle}>\r\n                                    {product.fabricId ? fabricMap[product.fabricId] || 'Unbekannt' : 'N/A'}\r\n                                </td>\r\n                                <td style={thTdStyle}>\r\n                                    {product.isFeatured ? 'Ja' : 'Nein'}\r\n                                </td>\r\n                                <td style={thTdStyle}>\r\n                                    <button \r\n                                        onClick={() => onEdit(product)}\r\n                                        style={actionButtonStyle('var(--farbe-akzent)')}\r\n                                    >\r\n                                        Bearbeiten\r\n                                    </button>\r\n                                    <button \r\n                                        onClick={() => onDelete(product.id)}\r\n                                        style={actionButtonStyle('var(--farbe-rot)')}\r\n                                    >\r\n                                        Löschen\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// =========================================================================\r\n// HAUPTKOMPONENTE: AdminDashboard\r\n// =========================================================================\r\n\r\nconst AdminDashboard = ({ navigate }) => {\r\n    const [products, setProducts] = useState([]);\r\n    const [fabrics, setFabrics] = useState([]); // NEU: Zustand für Stoffe\r\n    const [currentProduct, setCurrentProduct] = useState(null);\r\n    const [statusMessage, setStatusMessage] = useState({ text: '', type: '' });\r\n\r\n    // --- Allgemeine Hilfsfunktionen ---\r\n    const setStatus = (text, type = 'info') => {\r\n        setStatusMessage({ text, type });\r\n        // Nachricht nach 5 Sekunden ausblenden\r\n        setTimeout(() => setStatusMessage({ text: '', type: '' }), 5000);\r\n    };\r\n\r\n    // --- Produkt-CRUD-Funktionen ---\r\n    \r\n    // Datenabruf für Produkte und Stoffe\r\n    const fetchData = async () => {\r\n        try {\r\n            // 1. Produkte abrufen\r\n            const productsResponse = await fetch(API_URL);\r\n            if (!productsResponse.ok) throw new Error('Fehler beim Abruf der Produkte.');\r\n            const productsData = await productsResponse.json();\r\n            setProducts(productsData);\r\n\r\n            // 2. Stoffe abrufen (NEU)\r\n            const fabricsResponse = await fetch(FABRIC_API_URL);\r\n            if (!fabricsResponse.ok) throw new Error('Fehler beim Abruf der Stoffe.');\r\n            const fabricsData = await fabricsResponse.json();\r\n            setFabrics(fabricsData);\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Abruf der Daten:', error);\r\n            setStatus(`Ladefehler: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    // Produkt erstellen/aktualisieren\r\n    const handleProductSubmit = async (formData, isEditing) => {\r\n        const action = isEditing ? 'PUT' : 'POST';\r\n        const url = isEditing ? `${API_URL}/${formData.id}` : API_URL;\r\n        \r\n        // Erstellen des FormData-Objekts für Multipart/form-data (wegen des Bild-Uploads)\r\n        const formPayload = new FormData();\r\n        \r\n        // Hinzufügen aller Felder, AUßER imageFile und imageUrl\r\n        Object.keys(formData).forEach(key => {\r\n            if (key !== 'imageFile' && key !== 'imageUrl' && key !== 'id') {\r\n                formPayload.append(key, formData[key]);\r\n            }\r\n        });\r\n\r\n        // Speziell für Datei: Nur hinzufügen, wenn eine neue Datei ausgewählt wurde\r\n        if (formData.imageFile) {\r\n            formPayload.append('imageFile', formData.imageFile);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                method: action,\r\n                // ACHTUNG: Bei FormData-Objekten MUSS der 'Content-Type': 'multipart/form-data' \r\n                // vom Browser automatisch gesetzt werden. Wenn Sie ihn manuell setzen, \r\n                // wird der Boundary-String nicht korrekt hinzugefügt und der Upload schlägt fehl.\r\n                body: formPayload,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorText = await response.text();\r\n                throw new Error(`Serverfehler: ${response.status} - ${errorText}`);\r\n            }\r\n\r\n            // Daten neu laden und Formular zurücksetzen\r\n            await fetchData();\r\n            setCurrentProduct(null);\r\n            setStatus(`Produkt erfolgreich ${isEditing ? 'aktualisiert' : 'erstellt'}.`, 'info');\r\n\r\n        } catch (error) {\r\n            console.error('Fehler bei der Übermittlung:', error);\r\n            setStatus(`Fehler bei der ${isEditing ? 'Aktualisierung' : 'Erstellung'} des Produkts: ${error.message}`, 'error');\r\n        }\r\n    };\r\n    \r\n    // Produkt löschen\r\n    const handleDelete = async (productId) => {\r\n        if (!window.confirm('Sind Sie sicher, dass Sie dieses Produkt löschen möchten?')) {\r\n            return;\r\n        }\r\n        try {\r\n            const response = await fetch(`${API_URL}/${productId}`, {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Fehler beim Löschen des Produkts.');\r\n            }\r\n\r\n            await fetchData();\r\n            setStatus('Produkt erfolgreich gelöscht.', 'info');\r\n            \r\n            // Falls das gerade bearbeitete Produkt gelöscht wurde\r\n            if (currentProduct && currentProduct.id === productId) {\r\n                setCurrentProduct(null);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Löschen:', error);\r\n            setStatus(`Fehler beim Löschen des Produkts: ${error.message}`, 'error');\r\n        }\r\n    };\r\n    \r\n    // Bearbeitungsmodus starten\r\n    const handleEdit = (product) => {\r\n        setCurrentProduct(product);\r\n        setStatus(`Bearbeite Produkt: ${product.name}`, 'info');\r\n        // Optional: Zum Formular scrollen\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    };\r\n    \r\n    // Bearbeitungsmodus abbrechen\r\n    const handleCancelEdit = () => {\r\n        setCurrentProduct(null);\r\n        setStatusMessage({ text: '', type: '' });\r\n    };\r\n\r\n\r\n    // --- Stoff-CRUD-Funktionen (NEU) ---\r\n\r\n    // Stoff hinzufügen\r\n    const handleAddFabric = async (formData) => {\r\n        const formPayload = new FormData();\r\n        Object.keys(formData).forEach(key => {\r\n            if (key !== 'imageFile') {\r\n                // Bei suitableFor: Array als JSON-String senden\r\n                formPayload.append(key, key === 'suitableFor' ? JSON.stringify(formData[key]) : formData[key]);\r\n            }\r\n        });\r\n        if (formData.imageFile) {\r\n            formPayload.append('imageFile', formData.imageFile);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(FABRIC_API_URL, {\r\n                method: 'POST',\r\n                body: formPayload,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorText = await response.text();\r\n                throw new Error(`Serverfehler: ${response.status} - ${errorText}`);\r\n            }\r\n\r\n            await fetchData();\r\n            setStatus('Stoff erfolgreich zum Inventar hinzugefügt.', 'info');\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Hinzufügen des Stoffes:', error);\r\n            setStatus(`Fehler beim Hinzufügen des Stoffes: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    // Stoff löschen\r\n    const handleDeleteFabric = async (fabricId) => {\r\n        if (!window.confirm('Sind Sie sicher, dass Sie diesen Stoff löschen möchten? (Alle Produkte, die diesen Stoff verwenden, behalten die ID, bis sie bearbeitet werden.)')) {\r\n            return;\r\n        }\r\n\r\n        // Überprüfen, ob Produkte diesen Stoff verwenden\r\n        const productsUsingFabric = products.filter(p => p.fabricId === fabricId);\r\n        if (productsUsingFabric.length > 0) {\r\n            if (!window.confirm(`ACHTUNG: ${productsUsingFabric.length} Produkt(e) verwenden diesen Stoff noch. Fortfahren?`)) {\r\n                 return;\r\n            }\r\n        }\r\n        \r\n        try {\r\n            const response = await fetch(`${FABRIC_API_URL}/${fabricId}`, {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Fehler beim Löschen des Stoffes.');\r\n            }\r\n\r\n            await fetchData();\r\n            setStatus('Stoff erfolgreich gelöscht.', 'info');\r\n\r\n        } catch (error) {\r\n            console.error('Fehler beim Löschen des Stoffes:', error);\r\n            setStatus(`Fehler beim Löschen des Stoffes: ${error.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    // Status-Nachrichten-Stil (bleibt inline, da dynamisch)\r\n    const statusStyle = {\r\n        padding: '10px',\r\n        margin: '10px 0',\r\n        borderRadius: '8px',\r\n        textAlign: 'center',\r\n        fontWeight: 'bold',\r\n        color: 'white',\r\n        backgroundColor: statusMessage.type === 'error' ? 'var(--farbe-rot)' : 'var(--farbe-akzent)',\r\n        display: statusMessage.text ? 'block' : 'none', \r\n    };\r\n\r\n    return (\r\n        // Verwendet jetzt CSS-Klassen aus index.css\r\n        <div className=\"admin-dashboard-container\">\r\n            \r\n            <div style={statusStyle}>{statusMessage.text}</div>\r\n\r\n            {/* 1. Bereich: PRODUKT-VERWALTUNG (Grid) */}\r\n            <h1 style={{ color: 'var(--farbe-primär)', marginBottom: '30px', fontSize: '1.8em' }}>\r\n                Produkt-Verwaltung\r\n            </h1>\r\n            <div className=\"admin-grid-layout\">\r\n                \r\n                {/* 1. Spalte: Produktformular */}\r\n                <div>\r\n                    <ProductForm\r\n                        key={currentProduct ? currentProduct.id : 'new'} \r\n                        productToEdit={currentProduct}\r\n                        onSubmit={handleProductSubmit}\r\n                        onCancel={handleCancelEdit}\r\n                        fabrics={fabrics} // WICHTIG: Stoffe werden an das Formular übergeben\r\n                    />\r\n                </div>\r\n\r\n                {/* 2. Spalte: Produktliste */}\r\n                <div>\r\n                    <AdminProductList \r\n                        products={products}\r\n                        onEdit={handleEdit}\r\n                        onDelete={handleDelete}\r\n                        fabrics={fabrics} // WICHTIG: Stoffe werden an die Liste übergeben\r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n            \r\n            {/* 2. Bereich: STOFF-VERWALTUNG (Unterhalb des Grids) */}\r\n            <div style={{ \r\n                marginTop: '40px', \r\n                borderTop: '2px solid var(--farbe-grau)', \r\n                paddingTop: '30px' \r\n            }}>\r\n                <h1 style={{ color: 'var(--farbe-primär)', marginBottom: '30px', fontSize: '1.8em' }}>\r\n                    Stoff-Inventar-Verwaltung\r\n                </h1>\r\n                \r\n                {/* Stoff-Formular */}\r\n                <FabricForm onAdd={handleAddFabric} />\r\n                \r\n                {/* Stoff-Liste */}\r\n                <AdminFabricList fabrics={fabrics} onDelete={handleDeleteFabric} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}