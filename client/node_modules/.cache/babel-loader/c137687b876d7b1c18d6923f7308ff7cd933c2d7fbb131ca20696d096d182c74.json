{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\henkes-stoffzauber\\\\henkes-stoffzauber-projekt\\\\client\\\\src\\\\components\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useCart } from './CartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3001/api/products';\nconst BACKEND_URL = 'http://localhost:3001';\nconst FALLBACK_IMAGE_URL = \"https://placehold.co/400x400/CCCCCC/333333?text=Stoffmuster\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    addToCart\n  } = useCart();\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const res = await fetch(`${API_URL}/${id}`);\n        if (!res.ok) throw new Error('Produkt nicht gefunden');\n        const data = await res.json();\n        setProduct(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProduct();\n  }, [id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      textAlign: 'center',\n      padding: '50px'\n    },\n    children: \"Lade Produkt...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      textAlign: 'center',\n      color: 'red',\n      padding: '50px',\n      fontWeight: 'bold'\n    },\n    children: [\"Fehler: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 21\n  }, this);\n  if (!product) return null;\n  const isInStock = product.stock > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '800px',\n      margin: '50px auto',\n      padding: '0 20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.imageUrl.startsWith('/uploads/') ? `${BACKEND_URL}${product.imageUrl}` : product.imageUrl || FALLBACK_IMAGE_URL,\n      alt: product.name,\n      style: {\n        width: '100%',\n        borderRadius: '12px',\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        fontSize: '18px',\n        color: 'var(--farbe-akzent)'\n      },\n      children: [\"\\u20AC \", product.price.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: isInStock ? 'green' : 'red',\n        fontWeight: 'bold'\n      },\n      children: isInStock ? 'Sofort verfügbar' : 'Ausverkauft'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => addToCart(product, 1),\n      disabled: !isInStock,\n      style: {\n        backgroundColor: isInStock ? 'var(--farbe-primär)' : '#aaa',\n        color: 'var(--farbe-hell)',\n        padding: '10px 20px',\n        borderRadius: '8px',\n        fontWeight: 'bold',\n        cursor: isInStock ? 'pointer' : 'not-allowed'\n      },\n      children: isInStock ? 'In den Warenkorb (1)' : 'Nicht lieferbar'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"YtSgaJnsf6XEIgvm7z86F2CRCVc=\", false, function () {\n  return [useParams, useCart];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useCart","jsxDEV","_jsxDEV","API_URL","BACKEND_URL","FALLBACK_IMAGE_URL","ProductDetail","_s","id","product","setProduct","loading","setLoading","error","setError","addToCart","fetchProduct","res","fetch","ok","Error","data","json","err","message","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","fontWeight","isInStock","stock","maxWidth","margin","src","imageUrl","startsWith","alt","name","width","borderRadius","marginBottom","fontSize","price","toFixed","description","onClick","disabled","backgroundColor","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Stefan/Desktop/henkes-stoffzauber/henkes-stoffzauber-projekt/client/src/components/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useCart } from './CartContext';\r\n\r\nconst API_URL = 'http://localhost:3001/api/products';\r\nconst BACKEND_URL = 'http://localhost:3001';\r\nconst FALLBACK_IMAGE_URL = \"https://placehold.co/400x400/CCCCCC/333333?text=Stoffmuster\";\r\n\r\nconst ProductDetail = () => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { addToCart } = useCart();\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const res = await fetch(`${API_URL}/${id}`);\r\n        if (!res.ok) throw new Error('Produkt nicht gefunden');\r\n        const data = await res.json();\r\n        setProduct(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  if (loading) return <p style={{ textAlign:'center', padding:'50px' }}>Lade Produkt...</p>;\r\n  if (error) return <p style={{ textAlign:'center', color:'red', padding:'50px', fontWeight:'bold' }}>Fehler: {error}</p>;\r\n  if (!product) return null;\r\n\r\n  const isInStock = product.stock > 0;\r\n\r\n  return (\r\n    <div style={{ maxWidth:'800px', margin:'50px auto', padding:'0 20px' }}>\r\n      <img src={product.imageUrl.startsWith('/uploads/') ? `${BACKEND_URL}${product.imageUrl}` : product.imageUrl || FALLBACK_IMAGE_URL} \r\n           alt={product.name} style={{ width:'100%', borderRadius:'12px', marginBottom:'20px' }} />\r\n      <h1>{product.name}</h1>\r\n      <p style={{ fontWeight:'bold', fontSize:'18px', color:'var(--farbe-akzent)' }}>€ {product.price.toFixed(2)}</p>\r\n      <p>{product.description}</p>\r\n      <p style={{ color: isInStock ? 'green' : 'red', fontWeight:'bold' }}>\r\n        {isInStock ? 'Sofort verfügbar' : 'Ausverkauft'}\r\n      </p>\r\n      <button onClick={() => addToCart(product, 1)} disabled={!isInStock}\r\n              style={{\r\n                backgroundColor: isInStock ? 'var(--farbe-primär)' : '#aaa',\r\n                color: 'var(--farbe-hell)',\r\n                padding: '10px 20px',\r\n                borderRadius: '8px',\r\n                fontWeight: 'bold',\r\n                cursor: isInStock ? 'pointer' : 'not-allowed'\r\n              }}>\r\n        {isInStock ? 'In den Warenkorb (1)' : 'Nicht lieferbar'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,OAAO,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,OAAO,GAAG,oCAAoC;AACpD,MAAMC,WAAW,GAAG,uBAAuB;AAC3C,MAAMC,kBAAkB,GAAG,6DAA6D;AAExF,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEkB;EAAU,CAAC,GAAGf,OAAO,CAAC,CAAC;EAE/BF,SAAS,CAAC,MAAM;IACd,MAAMkB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGf,OAAO,IAAIK,EAAE,EAAE,CAAC;QAC3C,IAAI,CAACS,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;QACtD,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;QAC7BZ,UAAU,CAACW,IAAI,CAAC;MAClB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZT,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC;MACvB,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDI,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACR,EAAE,CAAC,CAAC;EAER,IAAIG,OAAO,EAAE,oBAAOT,OAAA;IAAGuB,KAAK,EAAE;MAAEC,SAAS,EAAC,QAAQ;MAAEC,OAAO,EAAC;IAAO,CAAE;IAAAC,QAAA,EAAC;EAAe;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACzF,IAAInB,KAAK,EAAE,oBAAOX,OAAA;IAAGuB,KAAK,EAAE;MAAEC,SAAS,EAAC,QAAQ;MAAEO,KAAK,EAAC,KAAK;MAAEN,OAAO,EAAC,MAAM;MAAEO,UAAU,EAAC;IAAO,CAAE;IAAAN,QAAA,GAAC,UAAQ,EAACf,KAAK;EAAA;IAAAgB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EACvH,IAAI,CAACvB,OAAO,EAAE,OAAO,IAAI;EAEzB,MAAM0B,SAAS,GAAG1B,OAAO,CAAC2B,KAAK,GAAG,CAAC;EAEnC,oBACElC,OAAA;IAAKuB,KAAK,EAAE;MAAEY,QAAQ,EAAC,OAAO;MAAEC,MAAM,EAAC,WAAW;MAAEX,OAAO,EAAC;IAAS,CAAE;IAAAC,QAAA,gBACrE1B,OAAA;MAAKqC,GAAG,EAAE9B,OAAO,CAAC+B,QAAQ,CAACC,UAAU,CAAC,WAAW,CAAC,GAAG,GAAGrC,WAAW,GAAGK,OAAO,CAAC+B,QAAQ,EAAE,GAAG/B,OAAO,CAAC+B,QAAQ,IAAInC,kBAAmB;MAC7HqC,GAAG,EAAEjC,OAAO,CAACkC,IAAK;MAAClB,KAAK,EAAE;QAAEmB,KAAK,EAAC,MAAM;QAAEC,YAAY,EAAC,MAAM;QAAEC,YAAY,EAAC;MAAO;IAAE;MAAAjB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7F9B,OAAA;MAAA0B,QAAA,EAAKnB,OAAO,CAACkC;IAAI;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACvB9B,OAAA;MAAGuB,KAAK,EAAE;QAAES,UAAU,EAAC,MAAM;QAAEa,QAAQ,EAAC,MAAM;QAAEd,KAAK,EAAC;MAAsB,CAAE;MAAAL,QAAA,GAAC,SAAE,EAACnB,OAAO,CAACuC,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC;IAAA;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/G9B,OAAA;MAAA0B,QAAA,EAAInB,OAAO,CAACyC;IAAW;MAAArB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5B9B,OAAA;MAAGuB,KAAK,EAAE;QAAEQ,KAAK,EAAEE,SAAS,GAAG,OAAO,GAAG,KAAK;QAAED,UAAU,EAAC;MAAO,CAAE;MAAAN,QAAA,EACjEO,SAAS,GAAG,kBAAkB,GAAG;IAAa;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,eACJ9B,OAAA;MAAQiD,OAAO,EAAEA,CAAA,KAAMpC,SAAS,CAACN,OAAO,EAAE,CAAC,CAAE;MAAC2C,QAAQ,EAAE,CAACjB,SAAU;MAC3DV,KAAK,EAAE;QACL4B,eAAe,EAAElB,SAAS,GAAG,qBAAqB,GAAG,MAAM;QAC3DF,KAAK,EAAE,mBAAmB;QAC1BN,OAAO,EAAE,WAAW;QACpBkB,YAAY,EAAE,KAAK;QACnBX,UAAU,EAAE,MAAM;QAClBoB,MAAM,EAAEnB,SAAS,GAAG,SAAS,GAAG;MAClC,CAAE;MAAAP,QAAA,EACPO,SAAS,GAAG,sBAAsB,GAAG;IAAiB;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACzB,EAAA,CApDID,aAAa;EAAA,QACFP,SAAS,EAIFC,OAAO;AAAA;AAAAuD,EAAA,GALzBjD,aAAa;AAsDnB,eAAeA,aAAa;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}