{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stefan\\\\Desktop\\\\henkes-stoffzauber\\\\henkes-stoffzauber-projekt\\\\client\\\\src\\\\components\\\\Shop.js\",\n  _s = $RefreshSig$();\n// src/components/Shop.js\nimport React, { useState, useEffect } from 'react';\nimport { useCart } from './CartContext';\nimport './Shop.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3001/api/products';\nconst FALLBACK_IMAGE_URL = 'https://placehold.co/400x400/CCCCCC/333333?text=Stoffmuster';\nconst Shop = () => {\n  _s();\n  const {\n    cartItems,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    getTotal\n  } = useCart();\n  const [products, setProducts] = useState([]);\n  const [showCart, setShowCart] = useState(false);\n  const [search, setSearch] = useState('');\n  useEffect(() => {\n    fetch(API_URL).then(res => res.json()).then(data => setProducts(data)).catch(err => console.error(err));\n  }, []);\n  const filteredProducts = products.filter(p => p.name.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shop-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"shop-title\",\n      children: \"Shop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Suche...\",\n      value: search,\n      onChange: e => setSearch(e.target.value),\n      className: \"search-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: filteredProducts.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: p.imageUrl || FALLBACK_IMAGE_URL,\n          alt: p.name,\n          onError: e => e.target.src = FALLBACK_IMAGE_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u20AC \", p.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(p, 1),\n          children: \"In den Warenkorb\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"open-cart-button\",\n      onClick: () => setShowCart(!showCart),\n      children: [\"\\uD83D\\uDED2 \", cartItems.reduce((sum, i) => sum + i.quantity, 0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), showCart && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky-cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDED2 Warenkorb\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), cartItems.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Dein Warenkorb ist leer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 38\n      }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.name, \" - \\u20AC \", item.price.toFixed(2), \" x\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              value: item.quantity,\n              onChange: e => updateQuantity(item.id, parseInt(e.target.value) || 1),\n              style: {\n                width: '50px',\n                margin: '0 5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this), \"= \\u20AC \", (item.price * item.quantity).toFixed(2), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeFromCart(item.id),\n              children: \"\\u274C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"total\",\n          children: [\"Gesamt: \\u20AC \", getTotal().toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"checkout-btn\",\n          children: \"Zur Kasse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCart(false),\n        children: \"Schlie\\xDFen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(Shop, \"IXB+fJRhLZupEd6RVlhDxK8iFyI=\", false, function () {\n  return [useCart];\n});\n_c = Shop;\nexport default Shop;\nvar _c;\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"names":["React","useState","useEffect","useCart","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","FALLBACK_IMAGE_URL","Shop","_s","cartItems","addToCart","removeFromCart","updateQuantity","getTotal","products","setProducts","showCart","setShowCart","search","setSearch","fetch","then","res","json","data","catch","err","console","error","filteredProducts","filter","p","name","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","map","src","imageUrl","alt","onError","price","toFixed","onClick","id","reduce","sum","i","quantity","length","item","min","parseInt","style","width","margin","_c","$RefreshReg$"],"sources":["C:/Users/Stefan/Desktop/henkes-stoffzauber/henkes-stoffzauber-projekt/client/src/components/Shop.js"],"sourcesContent":["// src/components/Shop.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useCart } from './CartContext';\r\nimport './Shop.css';\r\n\r\nconst API_URL = 'http://localhost:3001/api/products';\r\nconst FALLBACK_IMAGE_URL = 'https://placehold.co/400x400/CCCCCC/333333?text=Stoffmuster';\r\n\r\nconst Shop = () => {\r\n  const { cartItems, addToCart, removeFromCart, updateQuantity, getTotal } = useCart();\r\n  const [products, setProducts] = useState([]);\r\n  const [showCart, setShowCart] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch(API_URL)\r\n      .then(res => res.json())\r\n      .then(data => setProducts(data))\r\n      .catch(err => console.error(err));\r\n  }, []);\r\n\r\n  const filteredProducts = products.filter(p =>\r\n    p.name.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"shop-container\">\r\n      <h1 className=\"shop-title\">Shop</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Suche...\"\r\n        value={search}\r\n        onChange={e => setSearch(e.target.value)}\r\n        className=\"search-input\"\r\n      />\r\n\r\n      <div className=\"product-grid\">\r\n        {filteredProducts.map(p => (\r\n          <div className=\"product-card\" key={p.id}>\r\n            <img\r\n              src={p.imageUrl || FALLBACK_IMAGE_URL}\r\n              alt={p.name}\r\n              onError={e => e.target.src = FALLBACK_IMAGE_URL}\r\n            />\r\n            <h3>{p.name}</h3>\r\n            <p>‚Ç¨ {p.price.toFixed(2)}</p>\r\n            <button onClick={() => addToCart(p, 1)}>In den Warenkorb</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Warenkorb */}\r\n      <button className=\"open-cart-button\" onClick={() => setShowCart(!showCart)}>\r\n        üõí {cartItems.reduce((sum, i) => sum + i.quantity, 0)}\r\n      </button>\r\n\r\n      {showCart && (\r\n        <div className=\"sticky-cart\">\r\n          <h3>üõí Warenkorb</h3>\r\n          {cartItems.length === 0 && <p>Dein Warenkorb ist leer</p>}\r\n          {cartItems.length > 0 && (\r\n            <>\r\n              <ul>\r\n                {cartItems.map(item => (\r\n                  <li key={item.id}>\r\n                    {item.name} - ‚Ç¨ {item.price.toFixed(2)} x\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={item.quantity}\r\n                      onChange={e => updateQuantity(item.id, parseInt(e.target.value) || 1)}\r\n                      style={{ width: '50px', margin: '0 5px' }}\r\n                    />\r\n                    = ‚Ç¨ {(item.price * item.quantity).toFixed(2)}\r\n                    <button onClick={() => removeFromCart(item.id)}>‚ùå</button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <p className=\"total\">Gesamt: ‚Ç¨ {getTotal().toFixed(2)}</p>\r\n              <button className=\"checkout-btn\">Zur Kasse</button>\r\n            </>\r\n          )}\r\n          <button onClick={() => setShowCart(false)}>Schlie√üen</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}